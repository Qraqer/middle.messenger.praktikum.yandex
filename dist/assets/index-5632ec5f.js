var tr=Object.defineProperty;var rr=(t,e,r)=>e in t?tr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var C=(t,e,r)=>(rr(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}})();function sr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Re={exports:{}},Be={exports:{}},B={},L={};L.__esModule=!0;L.extend=Dt;L.indexOf=lr;L.escapeExpression=ur;L.isEmpty=cr;L.createFrame=hr;L.blockParams=pr;L.appendContextPath=dr;var nr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},ir=/[&<>"'`=]/g,ar=/[&<>"'`=]/;function or(t){return nr[t]}function Dt(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var at=Object.prototype.toString;L.toString=at;var Te=function(e){return typeof e=="function"};Te(/x/)&&(L.isFunction=Te=function(t){return typeof t=="function"&&at.call(t)==="[object Function]"});L.isFunction=Te;var Rt=Array.isArray||function(t){return t&&typeof t=="object"?at.call(t)==="[object Array]":!1};L.isArray=Rt;function lr(t,e){for(var r=0,s=t.length;r<s;r++)if(t[r]===e)return r;return-1}function ur(t){if(typeof t!="string"){if(t&&t.toHTML)return t.toHTML();if(t==null)return"";if(!t)return t+"";t=""+t}return ar.test(t)?t.replace(ir,or):t}function cr(t){return!t&&t!==0?!0:!!(Rt(t)&&t.length===0)}function hr(t){var e=Dt({},t);return e._parent=t,e}function pr(t,e){return t.path=e,t}function dr(t,e){return(t?t+".":"")+e}var Ue={exports:{}};(function(t,e){e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function s(o,d){var c=d&&d.loc,u=void 0,a=void 0,p=void 0,l=void 0;c&&(u=c.start.line,a=c.end.line,p=c.start.column,l=c.end.column,o+=" - "+u+":"+p);for(var f=Error.prototype.constructor.call(this,o),n=0;n<r.length;n++)this[r[n]]=f[r[n]];Error.captureStackTrace&&Error.captureStackTrace(this,s);try{c&&(this.lineNumber=u,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:p,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=p,this.endColumn=l))}catch{}}s.prototype=new Error,e.default=s,t.exports=e.default})(Ue,Ue.exports);var H=Ue.exports,he={},He={exports:{}};(function(t,e){e.__esModule=!0;var r=L;e.default=function(s){s.registerHelper("blockHelperMissing",function(o,d){var c=d.inverse,u=d.fn;if(o===!0)return u(this);if(o===!1||o==null)return c(this);if(r.isArray(o))return o.length>0?(d.ids&&(d.ids=[d.name]),s.helpers.each(o,d)):c(this);if(d.data&&d.ids){var a=r.createFrame(d.data);a.contextPath=r.appendContextPath(d.data.contextPath,d.name),d={data:a}}return u(o,d)})},t.exports=e.default})(He,He.exports);var fr=He.exports,qe={exports:{}};(function(t,e){e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}var s=L,o=H,d=r(o);e.default=function(c){c.registerHelper("each",function(u,a){if(!a)throw new d.default("Must pass iterator to #each");var p=a.fn,l=a.inverse,f=0,n="",h=void 0,i=void 0;a.data&&a.ids&&(i=s.appendContextPath(a.data.contextPath,a.ids[0])+"."),s.isFunction(u)&&(u=u.call(this)),a.data&&(h=s.createFrame(a.data));function m(g,y,k){h&&(h.key=g,h.index=y,h.first=y===0,h.last=!!k,i&&(h.contextPath=i+g)),n=n+p(u[g],{data:h,blockParams:s.blockParams([u[g],g],[i+g,null])})}if(u&&typeof u=="object")if(s.isArray(u))for(var v=u.length;f<v;f++)f in u&&m(f,f,f===u.length-1);else if(typeof Symbol=="function"&&u[Symbol.iterator]){for(var b=[],_=u[Symbol.iterator](),S=_.next();!S.done;S=_.next())b.push(S.value);u=b;for(var v=u.length;f<v;f++)m(f,f,f===u.length-1)}else(function(){var g=void 0;Object.keys(u).forEach(function(y){g!==void 0&&m(g,f-1),g=y,f++}),g!==void 0&&m(g,f-1,!0)})();return f===0&&(n=l(this)),n})},t.exports=e.default})(qe,qe.exports);var mr=qe.exports,Fe={exports:{}};(function(t,e){e.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}var s=H,o=r(s);e.default=function(d){d.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default})(Fe,Fe.exports);var gr=Fe.exports,Ve={exports:{}};(function(t,e){e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}var s=L,o=H,d=r(o);e.default=function(c){c.registerHelper("if",function(u,a){if(arguments.length!=2)throw new d.default("#if requires exactly one argument");return s.isFunction(u)&&(u=u.call(this)),!a.hash.includeZero&&!u||s.isEmpty(u)?a.inverse(this):a.fn(this)}),c.registerHelper("unless",function(u,a){if(arguments.length!=2)throw new d.default("#unless requires exactly one argument");return c.helpers.if.call(this,u,{fn:a.inverse,inverse:a.fn,hash:a.hash})})},t.exports=e.default})(Ve,Ve.exports);var vr=Ve.exports,Ge={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var s=[void 0],o=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)s.push(arguments[d]);var c=1;o.hash.level!=null?c=o.hash.level:o.data&&o.data.level!=null&&(c=o.data.level),s[0]=c,r.log.apply(r,s)})},t.exports=e.default})(Ge,Ge.exports);var _r=Ge.exports,We={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(s,o,d){return s&&d.lookupProperty(s,o)})},t.exports=e.default})(We,We.exports);var yr=We.exports,je={exports:{}};(function(t,e){e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}var s=L,o=H,d=r(o);e.default=function(c){c.registerHelper("with",function(u,a){if(arguments.length!=2)throw new d.default("#with requires exactly one argument");s.isFunction(u)&&(u=u.call(this));var p=a.fn;if(s.isEmpty(u))return a.inverse(this);var l=a.data;return a.data&&a.ids&&(l=s.createFrame(a.data),l.contextPath=s.appendContextPath(a.data.contextPath,a.ids[0])),p(u,{data:l,blockParams:s.blockParams([u],[l&&l.contextPath])})})},t.exports=e.default})(je,je.exports);var br=je.exports;he.__esModule=!0;he.registerDefaultHelpers=Rr;he.moveHelperToHooks=Br;function Y(t){return t&&t.__esModule?t:{default:t}}var Sr=fr,wr=Y(Sr),kr=mr,Cr=Y(kr),Er=gr,Pr=Y(Er),Lr=vr,Mr=Y(Lr),xr=_r,Ar=Y(xr),Or=yr,Ir=Y(Or),Nr=br,Dr=Y(Nr);function Rr(t){wr.default(t),Cr.default(t),Pr.default(t),Mr.default(t),Ar.default(t),Ir.default(t),Dr.default(t)}function Br(t,e,r){t.helpers[e]&&(t.hooks[e]=t.helpers[e],r||delete t.helpers[e])}var ot={},Ke={exports:{}};(function(t,e){e.__esModule=!0;var r=L;e.default=function(s){s.registerDecorator("inline",function(o,d,c,u){var a=o;return d.partials||(d.partials={},a=function(p,l){var f=c.partials;c.partials=r.extend({},f,d.partials);var n=o(p,l);return c.partials=f,n}),d.partials[u.args[0]]=u.fn,a})},t.exports=e.default})(Ke,Ke.exports);var Tr=Ke.exports;ot.__esModule=!0;ot.registerDefaultDecorators=Fr;function Ur(t){return t&&t.__esModule?t:{default:t}}var Hr=Tr,qr=Ur(Hr);function Fr(t){qr.default(t)}var Je={exports:{}};(function(t,e){e.__esModule=!0;var r=L,s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(d){if(typeof d=="string"){var c=r.indexOf(s.methodMap,d.toLowerCase());c>=0?d=c:d=parseInt(d,10)}return d},log:function(d){if(d=s.lookupLevel(d),typeof console<"u"&&s.lookupLevel(s.level)<=d){var c=s.methodMap[d];console[c]||(c="log");for(var u=arguments.length,a=Array(u>1?u-1:0),p=1;p<u;p++)a[p-1]=arguments[p];console[c].apply(console,a)}}};e.default=s,t.exports=e.default})(Je,Je.exports);var Bt=Je.exports,se={},lt={};lt.__esModule=!0;lt.createNewLookupObject=Gr;var Vr=L;function Gr(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return Vr.extend.apply(void 0,[Object.create(null)].concat(e))}se.__esModule=!0;se.createProtoAccessControl=Jr;se.resultIsAllowed=zr;se.resetLoggedProperties=Zr;function Wr(t){return t&&t.__esModule?t:{default:t}}var vt=lt,jr=Bt,Kr=Wr(jr),Se=Object.create(null);function Jr(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:vt.createNewLookupObject(r,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:vt.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}}function zr(t,e,r){return _t(typeof t=="function"?e.methods:e.properties,r)}function _t(t,e){return t.whitelist[e]!==void 0?t.whitelist[e]===!0:t.defaultValue!==void 0?t.defaultValue:(Qr(e),!1)}function Qr(t){Se[t]!==!0&&(Se[t]=!0,Kr.default.log("error",'Handlebars: Access has been denied to resolve the property "'+t+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function Zr(){Object.keys(Se).forEach(function(t){delete Se[t]})}B.__esModule=!0;B.HandlebarsEnvironment=ze;function Tt(t){return t&&t.__esModule?t:{default:t}}var J=L,Yr=H,Pe=Tt(Yr),Xr=he,$r=ot,es=Bt,we=Tt(es),ts=se,rs="4.7.8";B.VERSION=rs;var ss=8;B.COMPILER_REVISION=ss;var ns=7;B.LAST_COMPATIBLE_COMPILER_REVISION=ns;var is={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};B.REVISION_CHANGES=is;var Le="[object Object]";function ze(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},Xr.registerDefaultHelpers(this),$r.registerDefaultDecorators(this)}ze.prototype={constructor:ze,logger:we.default,log:we.default.log,registerHelper:function(e,r){if(J.toString.call(e)===Le){if(r)throw new Pe.default("Arg not supported with multiple helpers");J.extend(this.helpers,e)}else this.helpers[e]=r},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,r){if(J.toString.call(e)===Le)J.extend(this.partials,e);else{if(typeof r>"u")throw new Pe.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=r}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,r){if(J.toString.call(e)===Le){if(r)throw new Pe.default("Arg not supported with multiple decorators");J.extend(this.decorators,e)}else this.decorators[e]=r},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){ts.resetLoggedProperties()}};var as=we.default.log;B.log=as;B.createFrame=J.createFrame;B.logger=we.default;var Qe={exports:{}};(function(t,e){e.__esModule=!0;function r(s){this.string=s}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default})(Qe,Qe.exports);var os=Qe.exports,K={},ut={};ut.__esModule=!0;ut.wrapHelper=ls;function ls(t,e){if(typeof t!="function")return t;var r=function(){var o=arguments[arguments.length-1];return arguments[arguments.length-1]=e(o),t.apply(this,arguments)};return r}K.__esModule=!0;K.checkRevision=fs;K.template=ms;K.wrapProgram=_e;K.resolvePartial=gs;K.invokePartial=vs;K.noop=Ut;function us(t){return t&&t.__esModule?t:{default:t}}function cs(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var hs=L,V=cs(hs),ps=H,G=us(ps),W=B,yt=he,ds=ut,bt=se;function fs(t){var e=t&&t[0]||1,r=W.COMPILER_REVISION;if(!(e>=W.LAST_COMPATIBLE_COMPILER_REVISION&&e<=W.COMPILER_REVISION))if(e<W.LAST_COMPATIBLE_COMPILER_REVISION){var s=W.REVISION_CHANGES[r],o=W.REVISION_CHANGES[e];throw new G.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+s+") or downgrade your runtime to an older version ("+o+").")}else throw new G.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}function ms(t,e){if(!e)throw new G.default("No environment passed to template");if(!t||!t.main)throw new G.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r=t.compiler&&t.compiler[0]===7;function s(c,u,a){a.hash&&(u=V.extend({},u,a.hash),a.ids&&(a.ids[0]=!0)),c=e.VM.resolvePartial.call(this,c,u,a);var p=V.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=e.VM.invokePartial.call(this,c,u,p);if(l==null&&e.compile&&(a.partials[a.name]=e.compile(c,t.compilerOptions,e),l=a.partials[a.name](u,p)),l!=null){if(a.indent){for(var f=l.split(`
`),n=0,h=f.length;n<h&&!(!f[n]&&n+1===h);n++)f[n]=a.indent+f[n];l=f.join(`
`)}return l}else throw new G.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")}var o={strict:function(u,a,p){if(!u||!(a in u))throw new G.default('"'+a+'" not defined in '+u,{loc:p});return o.lookupProperty(u,a)},lookupProperty:function(u,a){var p=u[a];if(p==null||Object.prototype.hasOwnProperty.call(u,a)||bt.resultIsAllowed(p,o.protoAccessControl,a))return p},lookup:function(u,a){for(var p=u.length,l=0;l<p;l++){var f=u[l]&&o.lookupProperty(u[l],a);if(f!=null)return u[l][a]}},lambda:function(u,a){return typeof u=="function"?u.call(a):u},escapeExpression:V.escapeExpression,invokePartial:s,fn:function(u){var a=t[u];return a.decorator=t[u+"_d"],a},programs:[],program:function(u,a,p,l,f){var n=this.programs[u],h=this.fn(u);return a||f||l||p?n=_e(this,u,h,a,p,l,f):n||(n=this.programs[u]=_e(this,u,h)),n},data:function(u,a){for(;u&&a--;)u=u._parent;return u},mergeIfNeeded:function(u,a){var p=u||a;return u&&a&&u!==a&&(p=V.extend({},a,u)),p},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function d(c){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],a=u.data;d._setup(u),!u.partial&&t.useData&&(a=_s(c,a));var p=void 0,l=t.useBlockParams?[]:void 0;t.useDepths&&(u.depths?p=c!=u.depths[0]?[c].concat(u.depths):u.depths:p=[c]);function f(n){return""+t.main(o,n,o.helpers,o.partials,a,l,p)}return f=Ht(t.main,f,o,u.depths||[],a,l),f(c,u)}return d.isTop=!0,d._setup=function(c){if(c.partial)o.protoAccessControl=c.protoAccessControl,o.helpers=c.helpers,o.partials=c.partials,o.decorators=c.decorators,o.hooks=c.hooks;else{var u=V.extend({},e.helpers,c.helpers);ys(u,o),o.helpers=u,t.usePartial&&(o.partials=o.mergeIfNeeded(c.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=V.extend({},e.decorators,c.decorators)),o.hooks={},o.protoAccessControl=bt.createProtoAccessControl(c);var a=c.allowCallsToHelperMissing||r;yt.moveHelperToHooks(o,"helperMissing",a),yt.moveHelperToHooks(o,"blockHelperMissing",a)}},d._child=function(c,u,a,p){if(t.useBlockParams&&!a)throw new G.default("must pass block params");if(t.useDepths&&!p)throw new G.default("must pass parent depths");return _e(o,c,t[c],u,0,a,p)},d}function _e(t,e,r,s,o,d,c){function u(a){var p=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],l=c;return c&&a!=c[0]&&!(a===t.nullContext&&c[0]===null)&&(l=[a].concat(c)),r(t,a,t.helpers,t.partials,p.data||s,d&&[p.blockParams].concat(d),l)}return u=Ht(r,u,t,c,s,d),u.program=e,u.depth=c?c.length:0,u.blockParams=o||0,u}function gs(t,e,r){return t?!t.call&&!r.name&&(r.name=t,t=r.partials[t]):r.name==="@partial-block"?t=r.data["partial-block"]:t=r.partials[r.name],t}function vs(t,e,r){var s=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var o=void 0;if(r.fn&&r.fn!==Ut&&function(){r.data=W.createFrame(r.data);var d=r.fn;o=r.data["partial-block"]=function(u){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return a.data=W.createFrame(a.data),a.data["partial-block"]=s,d(u,a)},d.partials&&(r.partials=V.extend({},r.partials,d.partials))}(),t===void 0&&o&&(t=o),t===void 0)throw new G.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)}function Ut(){return""}function _s(t,e){return(!e||!("root"in e))&&(e=e?W.createFrame(e):{},e.root=t),e}function Ht(t,e,r,s,o,d){if(t.decorator){var c={};e=t.decorator(e,c,r,s&&s[0],o,d,s),V.extend(e,c)}return e}function ys(t,e){Object.keys(t).forEach(function(r){var s=t[r];t[r]=bs(s,e)})}function bs(t,e){var r=e.lookupProperty;return ds.wrapHelper(t,function(s){return V.extend({lookupProperty:r},s)})}var Ze={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var s=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=s),r}},t.exports=e.default})(Ze,Ze.exports);var qt=Ze.exports;(function(t,e){e.__esModule=!0;function r(_){return _&&_.__esModule?_:{default:_}}function s(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(S[g]=_[g]);return S.default=_,S}var o=B,d=s(o),c=os,u=r(c),a=H,p=r(a),l=L,f=s(l),n=K,h=s(n),i=qt,m=r(i);function v(){var _=new d.HandlebarsEnvironment;return f.extend(_,d),_.SafeString=u.default,_.Exception=p.default,_.Utils=f,_.escapeExpression=f.escapeExpression,_.VM=h,_.template=function(S){return h.template(S,_)},_}var b=v();b.create=v,m.default(b),b.default=b,e.default=b,t.exports=e.default})(Be,Be.exports);var Ss=Be.exports,Ye={exports:{}};(function(t,e){e.__esModule=!0;var r={helpers:{helperExpression:function(o){return o.type==="SubExpression"||(o.type==="MustacheStatement"||o.type==="BlockStatement")&&!!(o.params&&o.params.length||o.hash)},scopedId:function(o){return/^\.|this\b/.test(o.original)},simpleId:function(o){return o.parts.length===1&&!r.helpers.scopedId(o)&&!o.depth}}};e.default=r,t.exports=e.default})(Ye,Ye.exports);var Ft=Ye.exports,pe={},Xe={exports:{}};(function(t,e){e.__esModule=!0;var r=function(){var s={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(u,a,p,l,f,n,h){var i=n.length-1;switch(f){case 1:return n[i-1];case 2:this.$=l.prepareProgram(n[i]);break;case 3:this.$=n[i];break;case 4:this.$=n[i];break;case 5:this.$=n[i];break;case 6:this.$=n[i];break;case 7:this.$=n[i];break;case 8:this.$=n[i];break;case 9:this.$={type:"CommentStatement",value:l.stripComment(n[i]),strip:l.stripFlags(n[i],n[i]),loc:l.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:n[i],value:n[i],loc:l.locInfo(this._$)};break;case 11:this.$=l.prepareRawBlock(n[i-2],n[i-1],n[i],this._$);break;case 12:this.$={path:n[i-3],params:n[i-2],hash:n[i-1]};break;case 13:this.$=l.prepareBlock(n[i-3],n[i-2],n[i-1],n[i],!1,this._$);break;case 14:this.$=l.prepareBlock(n[i-3],n[i-2],n[i-1],n[i],!0,this._$);break;case 15:this.$={open:n[i-5],path:n[i-4],params:n[i-3],hash:n[i-2],blockParams:n[i-1],strip:l.stripFlags(n[i-5],n[i])};break;case 16:this.$={path:n[i-4],params:n[i-3],hash:n[i-2],blockParams:n[i-1],strip:l.stripFlags(n[i-5],n[i])};break;case 17:this.$={path:n[i-4],params:n[i-3],hash:n[i-2],blockParams:n[i-1],strip:l.stripFlags(n[i-5],n[i])};break;case 18:this.$={strip:l.stripFlags(n[i-1],n[i-1]),program:n[i]};break;case 19:var m=l.prepareBlock(n[i-2],n[i-1],n[i],n[i],!1,this._$),v=l.prepareProgram([m],n[i-1].loc);v.chained=!0,this.$={strip:n[i-2].strip,program:v,chain:!0};break;case 20:this.$=n[i];break;case 21:this.$={path:n[i-1],strip:l.stripFlags(n[i-2],n[i])};break;case 22:this.$=l.prepareMustache(n[i-3],n[i-2],n[i-1],n[i-4],l.stripFlags(n[i-4],n[i]),this._$);break;case 23:this.$=l.prepareMustache(n[i-3],n[i-2],n[i-1],n[i-4],l.stripFlags(n[i-4],n[i]),this._$);break;case 24:this.$={type:"PartialStatement",name:n[i-3],params:n[i-2],hash:n[i-1],indent:"",strip:l.stripFlags(n[i-4],n[i]),loc:l.locInfo(this._$)};break;case 25:this.$=l.preparePartialBlock(n[i-2],n[i-1],n[i],this._$);break;case 26:this.$={path:n[i-3],params:n[i-2],hash:n[i-1],strip:l.stripFlags(n[i-4],n[i])};break;case 27:this.$=n[i];break;case 28:this.$=n[i];break;case 29:this.$={type:"SubExpression",path:n[i-3],params:n[i-2],hash:n[i-1],loc:l.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:n[i],loc:l.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:l.id(n[i-2]),value:n[i],loc:l.locInfo(this._$)};break;case 32:this.$=l.id(n[i-1]);break;case 33:this.$=n[i];break;case 34:this.$=n[i];break;case 35:this.$={type:"StringLiteral",value:n[i],original:n[i],loc:l.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(n[i]),original:Number(n[i]),loc:l.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:n[i]==="true",original:n[i]==="true",loc:l.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:l.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:l.locInfo(this._$)};break;case 40:this.$=n[i];break;case 41:this.$=n[i];break;case 42:this.$=l.preparePath(!0,n[i],this._$);break;case 43:this.$=l.preparePath(!1,n[i],this._$);break;case 44:n[i-2].push({part:l.id(n[i]),original:n[i],separator:n[i-1]}),this.$=n[i-2];break;case 45:this.$=[{part:l.id(n[i]),original:n[i]}];break;case 46:this.$=[];break;case 47:n[i-1].push(n[i]);break;case 48:this.$=[];break;case 49:n[i-1].push(n[i]);break;case 50:this.$=[];break;case 51:n[i-1].push(n[i]);break;case 58:this.$=[];break;case 59:n[i-1].push(n[i]);break;case 64:this.$=[];break;case 65:n[i-1].push(n[i]);break;case 70:this.$=[];break;case 71:n[i-1].push(n[i]);break;case 78:this.$=[];break;case 79:n[i-1].push(n[i]);break;case 82:this.$=[];break;case 83:n[i-1].push(n[i]);break;case 86:this.$=[];break;case 87:n[i-1].push(n[i]);break;case 90:this.$=[];break;case 91:n[i-1].push(n[i]);break;case 94:this.$=[];break;case 95:n[i-1].push(n[i]);break;case 98:this.$=[n[i]];break;case 99:n[i-1].push(n[i]);break;case 100:this.$=[n[i]];break;case 101:n[i-1].push(n[i]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(u,a){throw new Error(u)},parse:function(u){var a=this,p=[0],l=[null],f=[],n=this.table,h="",i=0,m=0;this.lexer.setInput(u),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var v=this.lexer.yylloc;f.push(v);var b=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function _(){var ee;return ee=a.lexer.lex()||1,typeof ee!="number"&&(ee=a.symbols_[ee]||ee),ee}for(var S,g,y,k,w={},E,x,P,N;;){if(g=p[p.length-1],this.defaultActions[g]?y=this.defaultActions[g]:((S===null||typeof S>"u")&&(S=_()),y=n[g]&&n[g][S]),typeof y>"u"||!y.length||!y[0]){var $="";{N=[];for(E in n[g])this.terminals_[E]&&E>2&&N.push("'"+this.terminals_[E]+"'");this.lexer.showPosition?$="Parse error on line "+(i+1)+`:
`+this.lexer.showPosition()+`
Expecting `+N.join(", ")+", got '"+(this.terminals_[S]||S)+"'":$="Parse error on line "+(i+1)+": Unexpected "+(S==1?"end of input":"'"+(this.terminals_[S]||S)+"'"),this.parseError($,{text:this.lexer.match,token:this.terminals_[S]||S,line:this.lexer.yylineno,loc:v,expected:N})}}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+S);switch(y[0]){case 1:p.push(S),l.push(this.lexer.yytext),f.push(this.lexer.yylloc),p.push(y[1]),S=null,m=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,v=this.lexer.yylloc;break;case 2:if(x=this.productions_[y[1]][1],w.$=l[l.length-x],w._$={first_line:f[f.length-(x||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(x||1)].first_column,last_column:f[f.length-1].last_column},b&&(w._$.range=[f[f.length-(x||1)].range[0],f[f.length-1].range[1]]),k=this.performAction.call(w,h,m,i,this.yy,y[1],l,f),typeof k<"u")return k;x&&(p=p.slice(0,-1*x*2),l=l.slice(0,-1*x),f=f.slice(0,-1*x)),p.push(this.productions_[y[1]][0]),l.push(w.$),f.push(w._$),P=n[p[p.length-2]][p[p.length-1]],p.push(P);break;case 3:return!0}}return!0}},o=function(){var c={EOF:1,parseError:function(a,p){if(this.yy.parser)this.yy.parser.parseError(a,p);else throw new Error(a)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var p=a.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var p=a.length,l=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p-1),this.offset-=p;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),l.length-1&&(this.yylineno-=l.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:l?(l.length===f.length?this.yylloc.first_column:0)+f[f.length-l.length].length-l[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-p]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),p=new Array(a.length+1).join("-");return a+this.upcomingInput()+`
`+p+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,p,l,f,n;this._more||(this.yytext="",this.match="");for(var h=this._currentRules(),i=0;i<h.length&&(l=this._input.match(this.rules[h[i]]),!(l&&(!p||l[0].length>p[0].length)&&(p=l,f=i,!this.options.flex)));i++);return p?(n=p[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],a=this.performAction.call(this,this.yy,this,h[f],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return typeof a<"u"?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return c.options={},c.performAction=function(a,p,l,f){function n(h,i){return p.yytext=p.yytext.substring(h,p.yyleng-i+h)}switch(l){case 0:if(p.yytext.slice(-2)==="\\\\"?(n(0,1),this.begin("mu")):p.yytext.slice(-1)==="\\"?(n(0,1),this.begin("emu")):this.begin("mu"),p.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(n(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(p.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return p.yytext=n(1,2).replace(/\\"/g,'"'),80;case 32:return p.yytext=n(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return p.yytext=p.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},c.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],c.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},c}();s.lexer=o;function d(){this.yy={}}return d.prototype=s,s.Parser=d,new d}();e.default=r,t.exports=e.default})(Xe,Xe.exports);var ws=Xe.exports,$e={exports:{}},et={exports:{}};(function(t,e){e.__esModule=!0;function r(p){return p&&p.__esModule?p:{default:p}}var s=H,o=r(s);function d(){this.parents=[]}d.prototype={constructor:d,mutating:!1,acceptKey:function(l,f){var n=this.accept(l[f]);if(this.mutating){if(n&&!d.prototype[n.type])throw new o.default('Unexpected node type "'+n.type+'" found when accepting '+f+" on "+l.type);l[f]=n}},acceptRequired:function(l,f){if(this.acceptKey(l,f),!l[f])throw new o.default(l.type+" requires "+f)},acceptArray:function(l){for(var f=0,n=l.length;f<n;f++)this.acceptKey(l,f),l[f]||(l.splice(f,1),f--,n--)},accept:function(l){if(l){if(!this[l.type])throw new o.default("Unknown type: "+l.type,l);this.current&&this.parents.unshift(this.current),this.current=l;var f=this[l.type](l);if(this.current=this.parents.shift(),!this.mutating||f)return f;if(f!==!1)return l}},Program:function(l){this.acceptArray(l.body)},MustacheStatement:c,Decorator:c,BlockStatement:u,DecoratorBlock:u,PartialStatement:a,PartialBlockStatement:function(l){a.call(this,l),this.acceptKey(l,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:c,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(l){this.acceptArray(l.pairs)},HashPair:function(l){this.acceptRequired(l,"value")}};function c(p){this.acceptRequired(p,"path"),this.acceptArray(p.params),this.acceptKey(p,"hash")}function u(p){c.call(this,p),this.acceptKey(p,"program"),this.acceptKey(p,"inverse")}function a(p){this.acceptRequired(p,"name"),this.acceptArray(p.params),this.acceptKey(p,"hash")}e.default=d,t.exports=e.default})(et,et.exports);var Vt=et.exports;(function(t,e){e.__esModule=!0;function r(l){return l&&l.__esModule?l:{default:l}}var s=Vt,o=r(s);function d(){var l=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=l}d.prototype=new o.default,d.prototype.Program=function(l){var f=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var h=l.body,i=0,m=h.length;i<m;i++){var v=h[i],b=this.accept(v);if(b){var _=c(h,i,n),S=u(h,i,n),g=b.openStandalone&&_,y=b.closeStandalone&&S,k=b.inlineStandalone&&_&&S;b.close&&a(h,i,!0),b.open&&p(h,i,!0),f&&k&&(a(h,i),p(h,i)&&v.type==="PartialStatement"&&(v.indent=/([ \t]+$)/.exec(h[i-1].original)[1])),f&&g&&(a((v.program||v.inverse).body),p(h,i)),f&&y&&(a(h,i),p((v.inverse||v.program).body))}}return l},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(l){this.accept(l.program),this.accept(l.inverse);var f=l.program||l.inverse,n=l.program&&l.inverse,h=n,i=n;if(n&&n.chained)for(h=n.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var m={open:l.openStrip.open,close:l.closeStrip.close,openStandalone:u(f.body),closeStandalone:c((h||f).body)};if(l.openStrip.close&&a(f.body,null,!0),n){var v=l.inverseStrip;v.open&&p(f.body,null,!0),v.close&&a(h.body,null,!0),l.closeStrip.open&&p(i.body,null,!0),!this.options.ignoreStandalone&&c(f.body)&&u(h.body)&&(p(f.body),a(h.body))}else l.closeStrip.open&&p(f.body,null,!0);return m},d.prototype.Decorator=d.prototype.MustacheStatement=function(l){return l.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(l){var f=l.strip||{};return{inlineStandalone:!0,open:f.open,close:f.close}};function c(l,f,n){f===void 0&&(f=l.length);var h=l[f-1],i=l[f-2];if(!h)return n;if(h.type==="ContentStatement")return(i||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(h.original)}function u(l,f,n){f===void 0&&(f=-1);var h=l[f+1],i=l[f+2];if(!h)return n;if(h.type==="ContentStatement")return(i||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(h.original)}function a(l,f,n){var h=l[f==null?0:f+1];if(!(!h||h.type!=="ContentStatement"||!n&&h.rightStripped)){var i=h.value;h.value=h.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),h.rightStripped=h.value!==i}}function p(l,f,n){var h=l[f==null?l.length-1:f-1];if(!(!h||h.type!=="ContentStatement"||!n&&h.leftStripped)){var i=h.value;return h.value=h.value.replace(n?/\s+$/:/[ \t]+$/,""),h.leftStripped=h.value!==i,h.leftStripped}}e.default=d,t.exports=e.default})($e,$e.exports);var ks=$e.exports,T={};T.__esModule=!0;T.SourceLocation=Ps;T.id=Ls;T.stripFlags=Ms;T.stripComment=xs;T.preparePath=As;T.prepareMustache=Os;T.prepareRawBlock=Is;T.prepareBlock=Ns;T.prepareProgram=Ds;T.preparePartialBlock=Rs;function Cs(t){return t&&t.__esModule?t:{default:t}}var Es=H,ct=Cs(Es);function ht(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var r={loc:t.path.loc};throw new ct.default(t.path.original+" doesn't match "+e,r)}}function Ps(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function Ls(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t}function Ms(t,e){return{open:t.charAt(2)==="~",close:e.charAt(e.length-3)==="~"}}function xs(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function As(t,e,r){r=this.locInfo(r);for(var s=t?"@":"",o=[],d=0,c=0,u=e.length;c<u;c++){var a=e[c].part,p=e[c].original!==a;if(s+=(e[c].separator||"")+a,!p&&(a===".."||a==="."||a==="this")){if(o.length>0)throw new ct.default("Invalid path: "+s,{loc:r});a===".."&&d++}else o.push(a)}return{type:"PathExpression",data:t,depth:d,parts:o,original:s,loc:r}}function Os(t,e,r,s,o,d){var c=s.charAt(3)||s.charAt(2),u=c!=="{"&&c!=="&",a=/\*/.test(s);return{type:a?"Decorator":"MustacheStatement",path:t,params:e,hash:r,escaped:u,strip:o,loc:this.locInfo(d)}}function Is(t,e,r,s){ht(t,r),s=this.locInfo(s);var o={type:"Program",body:e,strip:{},loc:s};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:s}}function Ns(t,e,r,s,o,d){s&&s.path&&ht(t,s);var c=/\*/.test(t.open);e.blockParams=t.blockParams;var u=void 0,a=void 0;if(r){if(c)throw new ct.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=s.strip),a=r.strip,u=r.program}return o&&(o=u,u=e,e=o),{type:c?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:u,openStrip:t.strip,inverseStrip:a,closeStrip:s&&s.strip,loc:this.locInfo(d)}}function Ds(t,e){if(!e&&t.length){var r=t[0].loc,s=t[t.length-1].loc;r&&s&&(e={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:s.end.line,column:s.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function Rs(t,e,r,s){return ht(t,r),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:r&&r.strip,loc:this.locInfo(s)}}pe.__esModule=!0;pe.parseWithoutProcessing=Wt;pe.parse=Gs;function Bs(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Gt(t){return t&&t.__esModule?t:{default:t}}var Ts=ws,tt=Gt(Ts),Us=ks,Hs=Gt(Us),qs=T,Fs=Bs(qs),Vs=L;pe.parser=tt.default;var ye={};Vs.extend(ye,Fs);function Wt(t,e){if(t.type==="Program")return t;tt.default.yy=ye,ye.locInfo=function(s){return new ye.SourceLocation(e&&e.srcName,s)};var r=tt.default.parse(t);return r}function Gs(t,e){var r=Wt(t,e),s=new Hs.default(e);return s.accept(r)}var de={};de.__esModule=!0;de.Compiler=rt;de.precompile=Js;de.compile=zs;function jt(t){return t&&t.__esModule?t:{default:t}}var Ws=H,oe=jt(Ws),ue=L,js=Ft,ne=jt(js),Ks=[].slice;function rt(){}rt.prototype={compiler:rt,equals:function(e){var r=this.opcodes.length;if(e.opcodes.length!==r)return!1;for(var s=0;s<r;s++){var o=this.opcodes[s],d=e.opcodes[s];if(o.opcode!==d.opcode||!Kt(o.args,d.args))return!1}r=this.children.length;for(var s=0;s<r;s++)if(!this.children[s].equals(e.children[s]))return!1;return!0},guid:0,compile:function(e,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=ue.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(e)},compileProgram:function(e){var r=new this.compiler,s=r.compile(e,this.options),o=this.guid++;return this.usePartial=this.usePartial||s.usePartial,this.children[o]=s,this.useDepths=this.useDepths||s.useDepths,o},accept:function(e){if(!this[e.type])throw new oe.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var r=this[e.type](e);return this.sourceNode.shift(),r},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var r=e.body,s=r.length,o=0;o<s;o++)this.accept(r[o]);return this.options.blockParams.shift(),this.isSimple=s===1,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){St(e);var r=e.program,s=e.inverse;r=r&&this.compileProgram(r),s=s&&this.compileProgram(s);var o=this.classifySexpr(e);o==="helper"?this.helperSexpr(e,r,s):o==="simple"?(this.simpleSexpr(e),this.opcode("pushProgram",r),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,r,s),this.opcode("pushProgram",r),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var r=e.program&&this.compileProgram(e.program),s=this.setupFullMustacheParams(e,r,void 0),o=e.path;this.useDecorators=!0,this.opcode("registerDecorator",s.length,o.original)},PartialStatement:function(e){this.usePartial=!0;var r=e.program;r&&(r=this.compileProgram(e.program));var s=e.params;if(s.length>1)throw new oe.default("Unsupported number of partial arguments: "+s.length,e);s.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):s.push({type:"PathExpression",parts:[],depth:0}));var o=e.name.original,d=e.name.type==="SubExpression";d&&this.accept(e.name),this.setupFullMustacheParams(e,r,void 0,!0);var c=e.indent||"";this.options.preventIndent&&c&&(this.opcode("appendContent",c),c=""),this.opcode("invokePartial",d,o,c),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){St(e);var r=this.classifySexpr(e);r==="simple"?this.simpleSexpr(e):r==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,r,s){var o=e.path,d=o.parts[0],c=r!=null||s!=null;this.opcode("getContext",o.depth),this.opcode("pushProgram",r),this.opcode("pushProgram",s),o.strict=!0,this.accept(o),this.opcode("invokeAmbiguous",d,c)},simpleSexpr:function(e){var r=e.path;r.strict=!0,this.accept(r),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,r,s){var o=this.setupFullMustacheParams(e,r,s),d=e.path,c=d.parts[0];if(this.options.knownHelpers[c])this.opcode("invokeKnownHelper",o.length,c);else{if(this.options.knownHelpersOnly)throw new oe.default("You specified knownHelpersOnly, but used the unknown helper "+c,e);d.strict=!0,d.falsy=!0,this.accept(d),this.opcode("invokeHelper",o.length,d.original,ne.default.helpers.simpleId(d))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var r=e.parts[0],s=ne.default.helpers.scopedId(e),o=!e.depth&&!s&&this.blockParamIndex(r);o?this.opcode("lookupBlockParam",o,e.parts):r?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,s):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var r=e.pairs,s=0,o=r.length;for(this.opcode("pushHash");s<o;s++)this.pushParam(r[s].value);for(;s--;)this.opcode("assignToHash",r[s].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:Ks.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var r=ne.default.helpers.simpleId(e.path),s=r&&!!this.blockParamIndex(e.path.parts[0]),o=!s&&ne.default.helpers.helperExpression(e),d=!s&&(o||r);if(d&&!o){var c=e.path.parts[0],u=this.options;u.knownHelpers[c]?o=!0:u.knownHelpersOnly&&(d=!1)}return o?"helper":d?"ambiguous":"simple"},pushParams:function(e){for(var r=0,s=e.length;r<s;r++)this.pushParam(e[r])},pushParam:function(e){var r=e.value!=null?e.value:e.original||"";if(this.stringParams)r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",r,e.type),e.type==="SubExpression"&&this.accept(e);else{if(this.trackIds){var s=void 0;if(e.parts&&!ne.default.helpers.scopedId(e)&&!e.depth&&(s=this.blockParamIndex(e.parts[0])),s){var o=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",s,o)}else r=e.original||r,r.replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,r)}this.accept(e)}},setupFullMustacheParams:function(e,r,s,o){var d=e.params;return this.pushParams(d),this.opcode("pushProgram",r),this.opcode("pushProgram",s),e.hash?this.accept(e.hash):this.opcode("emptyHash",o),d},blockParamIndex:function(e){for(var r=0,s=this.options.blockParams.length;r<s;r++){var o=this.options.blockParams[r],d=o&&ue.indexOf(o,e);if(o&&d>=0)return[r,d]}}};function Js(t,e,r){if(t==null||typeof t!="string"&&t.type!=="Program")throw new oe.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var s=r.parse(t,e),o=new r.Compiler().compile(s,e);return new r.JavaScriptCompiler().compile(o,e)}function zs(t,e,r){if(e===void 0&&(e={}),t==null||typeof t!="string"&&t.type!=="Program")throw new oe.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=ue.extend({},e),"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var s=void 0;function o(){var c=r.parse(t,e),u=new r.Compiler().compile(c,e),a=new r.JavaScriptCompiler().compile(u,e,void 0,!0);return r.template(a)}function d(c,u){return s||(s=o()),s.call(this,c,u)}return d._setup=function(c){return s||(s=o()),s._setup(c)},d._child=function(c,u,a,p){return s||(s=o()),s._child(c,u,a,p)},d}function Kt(t,e){if(t===e)return!0;if(ue.isArray(t)&&ue.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!Kt(t[r],e[r]))return!1;return!0}}function St(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var st={exports:{}},nt={exports:{}},ie={},Me={},me={},ge={},wt;function Qs(){if(wt)return ge;wt=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return ge.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},ge.decode=function(e){var r=65,s=90,o=97,d=122,c=48,u=57,a=43,p=47,l=26,f=52;return r<=e&&e<=s?e-r:o<=e&&e<=d?e-o+l:c<=e&&e<=u?e-c+f:e==a?62:e==p?63:-1},ge}var kt;function Jt(){if(kt)return me;kt=1;var t=Qs(),e=5,r=1<<e,s=r-1,o=r;function d(u){return u<0?(-u<<1)+1:(u<<1)+0}function c(u){var a=(u&1)===1,p=u>>1;return a?-p:p}return me.encode=function(a){var p="",l,f=d(a);do l=f&s,f>>>=e,f>0&&(l|=o),p+=t.encode(l);while(f>0);return p},me.decode=function(a,p,l){var f=a.length,n=0,h=0,i,m;do{if(p>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(m=t.decode(a.charCodeAt(p++)),m===-1)throw new Error("Invalid base64 digit: "+a.charAt(p-1));i=!!(m&o),m&=s,n=n+(m<<h),h+=e}while(i);l.value=c(n),l.rest=p},me}var xe={},Ct;function fe(){return Ct||(Ct=1,function(t){function e(g,y,k){if(y in g)return g[y];if(arguments.length===3)return k;throw new Error('"'+y+'" is a required argument.')}t.getArg=e;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,s=/^data:.+\,.+$/;function o(g){var y=g.match(r);return y?{scheme:y[1],auth:y[2],host:y[3],port:y[4],path:y[5]}:null}t.urlParse=o;function d(g){var y="";return g.scheme&&(y+=g.scheme+":"),y+="//",g.auth&&(y+=g.auth+"@"),g.host&&(y+=g.host),g.port&&(y+=":"+g.port),g.path&&(y+=g.path),y}t.urlGenerate=d;function c(g){var y=g,k=o(g);if(k){if(!k.path)return g;y=k.path}for(var w=t.isAbsolute(y),E=y.split(/\/+/),x,P=0,N=E.length-1;N>=0;N--)x=E[N],x==="."?E.splice(N,1):x===".."?P++:P>0&&(x===""?(E.splice(N+1,P),P=0):(E.splice(N,2),P--));return y=E.join("/"),y===""&&(y=w?"/":"."),k?(k.path=y,d(k)):y}t.normalize=c;function u(g,y){g===""&&(g="."),y===""&&(y=".");var k=o(y),w=o(g);if(w&&(g=w.path||"/"),k&&!k.scheme)return w&&(k.scheme=w.scheme),d(k);if(k||y.match(s))return y;if(w&&!w.host&&!w.path)return w.host=y,d(w);var E=y.charAt(0)==="/"?y:c(g.replace(/\/+$/,"")+"/"+y);return w?(w.path=E,d(w)):E}t.join=u,t.isAbsolute=function(g){return g.charAt(0)==="/"||r.test(g)};function a(g,y){g===""&&(g="."),g=g.replace(/\/$/,"");for(var k=0;y.indexOf(g+"/")!==0;){var w=g.lastIndexOf("/");if(w<0||(g=g.slice(0,w),g.match(/^([^\/]+:\/)?\/*$/)))return y;++k}return Array(k+1).join("../")+y.substr(g.length+1)}t.relative=a;var p=function(){var g=Object.create(null);return!("__proto__"in g)}();function l(g){return g}function f(g){return h(g)?"$"+g:g}t.toSetString=p?l:f;function n(g){return h(g)?g.slice(1):g}t.fromSetString=p?l:n;function h(g){if(!g)return!1;var y=g.length;if(y<9||g.charCodeAt(y-1)!==95||g.charCodeAt(y-2)!==95||g.charCodeAt(y-3)!==111||g.charCodeAt(y-4)!==116||g.charCodeAt(y-5)!==111||g.charCodeAt(y-6)!==114||g.charCodeAt(y-7)!==112||g.charCodeAt(y-8)!==95||g.charCodeAt(y-9)!==95)return!1;for(var k=y-10;k>=0;k--)if(g.charCodeAt(k)!==36)return!1;return!0}function i(g,y,k){var w=v(g.source,y.source);return w!==0||(w=g.originalLine-y.originalLine,w!==0)||(w=g.originalColumn-y.originalColumn,w!==0||k)||(w=g.generatedColumn-y.generatedColumn,w!==0)||(w=g.generatedLine-y.generatedLine,w!==0)?w:v(g.name,y.name)}t.compareByOriginalPositions=i;function m(g,y,k){var w=g.generatedLine-y.generatedLine;return w!==0||(w=g.generatedColumn-y.generatedColumn,w!==0||k)||(w=v(g.source,y.source),w!==0)||(w=g.originalLine-y.originalLine,w!==0)||(w=g.originalColumn-y.originalColumn,w!==0)?w:v(g.name,y.name)}t.compareByGeneratedPositionsDeflated=m;function v(g,y){return g===y?0:g===null?1:y===null?-1:g>y?1:-1}function b(g,y){var k=g.generatedLine-y.generatedLine;return k!==0||(k=g.generatedColumn-y.generatedColumn,k!==0)||(k=v(g.source,y.source),k!==0)||(k=g.originalLine-y.originalLine,k!==0)||(k=g.originalColumn-y.originalColumn,k!==0)?k:v(g.name,y.name)}t.compareByGeneratedPositionsInflated=b;function _(g){return JSON.parse(g.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=_;function S(g,y,k){if(y=y||"",g&&(g[g.length-1]!=="/"&&y[0]!=="/"&&(g+="/"),y=g+y),k){var w=o(k);if(!w)throw new Error("sourceMapURL could not be parsed");if(w.path){var E=w.path.lastIndexOf("/");E>=0&&(w.path=w.path.substring(0,E+1))}y=u(d(w),y)}return c(y)}t.computeSourceURL=S}(xe)),xe}var Ae={},Et;function zt(){if(Et)return Ae;Et=1;var t=fe(),e=Object.prototype.hasOwnProperty,r=typeof Map<"u";function s(){this._array=[],this._set=r?new Map:Object.create(null)}return s.fromArray=function(d,c){for(var u=new s,a=0,p=d.length;a<p;a++)u.add(d[a],c);return u},s.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(d,c){var u=r?d:t.toSetString(d),a=r?this.has(d):e.call(this._set,u),p=this._array.length;(!a||c)&&this._array.push(d),a||(r?this._set.set(d,p):this._set[u]=p)},s.prototype.has=function(d){if(r)return this._set.has(d);var c=t.toSetString(d);return e.call(this._set,c)},s.prototype.indexOf=function(d){if(r){var c=this._set.get(d);if(c>=0)return c}else{var u=t.toSetString(d);if(e.call(this._set,u))return this._set[u]}throw new Error('"'+d+'" is not in the set.')},s.prototype.at=function(d){if(d>=0&&d<this._array.length)return this._array[d];throw new Error("No element indexed by "+d)},s.prototype.toArray=function(){return this._array.slice()},Ae.ArraySet=s,Ae}var Oe={},Pt;function Zs(){if(Pt)return Oe;Pt=1;var t=fe();function e(s,o){var d=s.generatedLine,c=o.generatedLine,u=s.generatedColumn,a=o.generatedColumn;return c>d||c==d&&a>=u||t.compareByGeneratedPositionsInflated(s,o)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(o,d){this._array.forEach(o,d)},r.prototype.add=function(o){e(this._last,o)?(this._last=o,this._array.push(o)):(this._sorted=!1,this._array.push(o))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Oe.MappingList=r,Oe}var Lt;function Qt(){if(Lt)return Me;Lt=1;var t=Jt(),e=fe(),r=zt().ArraySet,s=Zs().MappingList;function o(d){d||(d={}),this._file=e.getArg(d,"file",null),this._sourceRoot=e.getArg(d,"sourceRoot",null),this._skipValidation=e.getArg(d,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new s,this._sourcesContents=null}return o.prototype._version=3,o.fromSourceMap=function(c){var u=c.sourceRoot,a=new o({file:c.file,sourceRoot:u});return c.eachMapping(function(p){var l={generated:{line:p.generatedLine,column:p.generatedColumn}};p.source!=null&&(l.source=p.source,u!=null&&(l.source=e.relative(u,l.source)),l.original={line:p.originalLine,column:p.originalColumn},p.name!=null&&(l.name=p.name)),a.addMapping(l)}),c.sources.forEach(function(p){var l=p;u!==null&&(l=e.relative(u,p)),a._sources.has(l)||a._sources.add(l);var f=c.sourceContentFor(p);f!=null&&a.setSourceContent(p,f)}),a},o.prototype.addMapping=function(c){var u=e.getArg(c,"generated"),a=e.getArg(c,"original",null),p=e.getArg(c,"source",null),l=e.getArg(c,"name",null);this._skipValidation||this._validateMapping(u,a,p,l),p!=null&&(p=String(p),this._sources.has(p)||this._sources.add(p)),l!=null&&(l=String(l),this._names.has(l)||this._names.add(l)),this._mappings.add({generatedLine:u.line,generatedColumn:u.column,originalLine:a!=null&&a.line,originalColumn:a!=null&&a.column,source:p,name:l})},o.prototype.setSourceContent=function(c,u){var a=c;this._sourceRoot!=null&&(a=e.relative(this._sourceRoot,a)),u!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(a)]=u):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(a)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(c,u,a){var p=u;if(u==null){if(c.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);p=c.file}var l=this._sourceRoot;l!=null&&(p=e.relative(l,p));var f=new r,n=new r;this._mappings.unsortedForEach(function(h){if(h.source===p&&h.originalLine!=null){var i=c.originalPositionFor({line:h.originalLine,column:h.originalColumn});i.source!=null&&(h.source=i.source,a!=null&&(h.source=e.join(a,h.source)),l!=null&&(h.source=e.relative(l,h.source)),h.originalLine=i.line,h.originalColumn=i.column,i.name!=null&&(h.name=i.name))}var m=h.source;m!=null&&!f.has(m)&&f.add(m);var v=h.name;v!=null&&!n.has(v)&&n.add(v)},this),this._sources=f,this._names=n,c.sources.forEach(function(h){var i=c.sourceContentFor(h);i!=null&&(a!=null&&(h=e.join(a,h)),l!=null&&(h=e.relative(l,h)),this.setSourceContent(h,i))},this)},o.prototype._validateMapping=function(c,u,a,p){if(u&&typeof u.line!="number"&&typeof u.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(c&&"line"in c&&"column"in c&&c.line>0&&c.column>=0&&!u&&!a&&!p)){if(c&&"line"in c&&"column"in c&&u&&"line"in u&&"column"in u&&c.line>0&&c.column>=0&&u.line>0&&u.column>=0&&a)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:c,source:a,original:u,name:p}))}},o.prototype._serializeMappings=function(){for(var c=0,u=1,a=0,p=0,l=0,f=0,n="",h,i,m,v,b=this._mappings.toArray(),_=0,S=b.length;_<S;_++){if(i=b[_],h="",i.generatedLine!==u)for(c=0;i.generatedLine!==u;)h+=";",u++;else if(_>0){if(!e.compareByGeneratedPositionsInflated(i,b[_-1]))continue;h+=","}h+=t.encode(i.generatedColumn-c),c=i.generatedColumn,i.source!=null&&(v=this._sources.indexOf(i.source),h+=t.encode(v-f),f=v,h+=t.encode(i.originalLine-1-p),p=i.originalLine-1,h+=t.encode(i.originalColumn-a),a=i.originalColumn,i.name!=null&&(m=this._names.indexOf(i.name),h+=t.encode(m-l),l=m)),n+=h}return n},o.prototype._generateSourcesContent=function(c,u){return c.map(function(a){if(!this._sourcesContents)return null;u!=null&&(a=e.relative(u,a));var p=e.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,p)?this._sourcesContents[p]:null},this)},o.prototype.toJSON=function(){var c={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(c.file=this._file),this._sourceRoot!=null&&(c.sourceRoot=this._sourceRoot),this._sourcesContents&&(c.sourcesContent=this._generateSourcesContent(c.sources,c.sourceRoot)),c},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},Me.SourceMapGenerator=o,Me}var ae={},Ie={},Mt;function Ys(){return Mt||(Mt=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(r,s,o,d,c,u){var a=Math.floor((s-r)/2)+r,p=c(o,d[a],!0);return p===0?a:p>0?s-a>1?e(a,s,o,d,c,u):u==t.LEAST_UPPER_BOUND?s<d.length?s:-1:a:a-r>1?e(r,a,o,d,c,u):u==t.LEAST_UPPER_BOUND?a:r<0?-1:r}t.search=function(s,o,d,c){if(o.length===0)return-1;var u=e(-1,o.length,s,o,d,c||t.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&d(o[u],o[u-1],!0)===0;)--u;return u}}(Ie)),Ie}var Ne={},xt;function Xs(){if(xt)return Ne;xt=1;function t(s,o,d){var c=s[o];s[o]=s[d],s[d]=c}function e(s,o){return Math.round(s+Math.random()*(o-s))}function r(s,o,d,c){if(d<c){var u=e(d,c),a=d-1;t(s,u,c);for(var p=s[c],l=d;l<c;l++)o(s[l],p)<=0&&(a+=1,t(s,a,l));t(s,a+1,l);var f=a+1;r(s,o,d,f-1),r(s,o,f+1,c)}}return Ne.quickSort=function(s,o){r(s,o,0,s.length-1)},Ne}var At;function $s(){if(At)return ae;At=1;var t=fe(),e=Ys(),r=zt().ArraySet,s=Jt(),o=Xs().quickSort;function d(p,l){var f=p;return typeof p=="string"&&(f=t.parseSourceMapInput(p)),f.sections!=null?new a(f,l):new c(f,l)}d.fromSourceMap=function(p,l){return c.fromSourceMap(p,l)},d.prototype._version=3,d.prototype.__generatedMappings=null,Object.defineProperty(d.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),d.prototype.__originalMappings=null,Object.defineProperty(d.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),d.prototype._charIsMappingSeparator=function(l,f){var n=l.charAt(f);return n===";"||n===","},d.prototype._parseMappings=function(l,f){throw new Error("Subclasses must implement _parseMappings")},d.GENERATED_ORDER=1,d.ORIGINAL_ORDER=2,d.GREATEST_LOWER_BOUND=1,d.LEAST_UPPER_BOUND=2,d.prototype.eachMapping=function(l,f,n){var h=f||null,i=n||d.GENERATED_ORDER,m;switch(i){case d.GENERATED_ORDER:m=this._generatedMappings;break;case d.ORIGINAL_ORDER:m=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;m.map(function(b){var _=b.source===null?null:this._sources.at(b.source);return _=t.computeSourceURL(v,_,this._sourceMapURL),{source:_,generatedLine:b.generatedLine,generatedColumn:b.generatedColumn,originalLine:b.originalLine,originalColumn:b.originalColumn,name:b.name===null?null:this._names.at(b.name)}},this).forEach(l,h)},d.prototype.allGeneratedPositionsFor=function(l){var f=t.getArg(l,"line"),n={source:t.getArg(l,"source"),originalLine:f,originalColumn:t.getArg(l,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var h=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(i>=0){var m=this._originalMappings[i];if(l.column===void 0)for(var v=m.originalLine;m&&m.originalLine===v;)h.push({line:t.getArg(m,"generatedLine",null),column:t.getArg(m,"generatedColumn",null),lastColumn:t.getArg(m,"lastGeneratedColumn",null)}),m=this._originalMappings[++i];else for(var b=m.originalColumn;m&&m.originalLine===f&&m.originalColumn==b;)h.push({line:t.getArg(m,"generatedLine",null),column:t.getArg(m,"generatedColumn",null),lastColumn:t.getArg(m,"lastGeneratedColumn",null)}),m=this._originalMappings[++i]}return h},ae.SourceMapConsumer=d;function c(p,l){var f=p;typeof p=="string"&&(f=t.parseSourceMapInput(p));var n=t.getArg(f,"version"),h=t.getArg(f,"sources"),i=t.getArg(f,"names",[]),m=t.getArg(f,"sourceRoot",null),v=t.getArg(f,"sourcesContent",null),b=t.getArg(f,"mappings"),_=t.getArg(f,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);m&&(m=t.normalize(m)),h=h.map(String).map(t.normalize).map(function(S){return m&&t.isAbsolute(m)&&t.isAbsolute(S)?t.relative(m,S):S}),this._names=r.fromArray(i.map(String),!0),this._sources=r.fromArray(h,!0),this._absoluteSources=this._sources.toArray().map(function(S){return t.computeSourceURL(m,S,l)}),this.sourceRoot=m,this.sourcesContent=v,this._mappings=b,this._sourceMapURL=l,this.file=_}c.prototype=Object.create(d.prototype),c.prototype.consumer=d,c.prototype._findSourceIndex=function(p){var l=p;if(this.sourceRoot!=null&&(l=t.relative(this.sourceRoot,l)),this._sources.has(l))return this._sources.indexOf(l);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==p)return f;return-1},c.fromSourceMap=function(l,f){var n=Object.create(c.prototype),h=n._names=r.fromArray(l._names.toArray(),!0),i=n._sources=r.fromArray(l._sources.toArray(),!0);n.sourceRoot=l._sourceRoot,n.sourcesContent=l._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=l._file,n._sourceMapURL=f,n._absoluteSources=n._sources.toArray().map(function(k){return t.computeSourceURL(n.sourceRoot,k,f)});for(var m=l._mappings.toArray().slice(),v=n.__generatedMappings=[],b=n.__originalMappings=[],_=0,S=m.length;_<S;_++){var g=m[_],y=new u;y.generatedLine=g.generatedLine,y.generatedColumn=g.generatedColumn,g.source&&(y.source=i.indexOf(g.source),y.originalLine=g.originalLine,y.originalColumn=g.originalColumn,g.name&&(y.name=h.indexOf(g.name)),b.push(y)),v.push(y)}return o(n.__originalMappings,t.compareByOriginalPositions),n},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}c.prototype._parseMappings=function(l,f){for(var n=1,h=0,i=0,m=0,v=0,b=0,_=l.length,S=0,g={},y={},k=[],w=[],E,x,P,N,$;S<_;)if(l.charAt(S)===";")n++,S++,h=0;else if(l.charAt(S)===",")S++;else{for(E=new u,E.generatedLine=n,N=S;N<_&&!this._charIsMappingSeparator(l,N);N++);if(x=l.slice(S,N),P=g[x],P)S+=x.length;else{for(P=[];S<N;)s.decode(l,S,y),$=y.value,S=y.rest,P.push($);if(P.length===2)throw new Error("Found a source, but no line and column");if(P.length===3)throw new Error("Found a source and line, but no column");g[x]=P}E.generatedColumn=h+P[0],h=E.generatedColumn,P.length>1&&(E.source=v+P[1],v+=P[1],E.originalLine=i+P[2],i=E.originalLine,E.originalLine+=1,E.originalColumn=m+P[3],m=E.originalColumn,P.length>4&&(E.name=b+P[4],b+=P[4])),w.push(E),typeof E.originalLine=="number"&&k.push(E)}o(w,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,o(k,t.compareByOriginalPositions),this.__originalMappings=k},c.prototype._findMapping=function(l,f,n,h,i,m){if(l[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+l[n]);if(l[h]<0)throw new TypeError("Column must be greater than or equal to 0, got "+l[h]);return e.search(l,f,i,m)},c.prototype.computeColumnSpans=function(){for(var l=0;l<this._generatedMappings.length;++l){var f=this._generatedMappings[l];if(l+1<this._generatedMappings.length){var n=this._generatedMappings[l+1];if(f.generatedLine===n.generatedLine){f.lastGeneratedColumn=n.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(l){var f={generatedLine:t.getArg(l,"line"),generatedColumn:t.getArg(l,"column")},n=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(l,"bias",d.GREATEST_LOWER_BOUND));if(n>=0){var h=this._generatedMappings[n];if(h.generatedLine===f.generatedLine){var i=t.getArg(h,"source",null);i!==null&&(i=this._sources.at(i),i=t.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var m=t.getArg(h,"name",null);return m!==null&&(m=this._names.at(m)),{source:i,line:t.getArg(h,"originalLine",null),column:t.getArg(h,"originalColumn",null),name:m}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(l){return l==null}):!1},c.prototype.sourceContentFor=function(l,f){if(!this.sourcesContent)return null;var n=this._findSourceIndex(l);if(n>=0)return this.sourcesContent[n];var h=l;this.sourceRoot!=null&&(h=t.relative(this.sourceRoot,h));var i;if(this.sourceRoot!=null&&(i=t.urlParse(this.sourceRoot))){var m=h.replace(/^file:\/\//,"");if(i.scheme=="file"&&this._sources.has(m))return this.sourcesContent[this._sources.indexOf(m)];if((!i.path||i.path=="/")&&this._sources.has("/"+h))return this.sourcesContent[this._sources.indexOf("/"+h)]}if(f)return null;throw new Error('"'+h+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(l){var f=t.getArg(l,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var n={source:f,originalLine:t.getArg(l,"line"),originalColumn:t.getArg(l,"column")},h=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(l,"bias",d.GREATEST_LOWER_BOUND));if(h>=0){var i=this._originalMappings[h];if(i.source===n.source)return{line:t.getArg(i,"generatedLine",null),column:t.getArg(i,"generatedColumn",null),lastColumn:t.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},ae.BasicSourceMapConsumer=c;function a(p,l){var f=p;typeof p=="string"&&(f=t.parseSourceMapInput(p));var n=t.getArg(f,"version"),h=t.getArg(f,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new r,this._names=new r;var i={line:-1,column:0};this._sections=h.map(function(m){if(m.url)throw new Error("Support for url field in sections not implemented.");var v=t.getArg(m,"offset"),b=t.getArg(v,"line"),_=t.getArg(v,"column");if(b<i.line||b===i.line&&_<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=v,{generatedOffset:{generatedLine:b+1,generatedColumn:_+1},consumer:new d(t.getArg(m,"map"),l)}})}return a.prototype=Object.create(d.prototype),a.prototype.constructor=d,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var p=[],l=0;l<this._sections.length;l++)for(var f=0;f<this._sections[l].consumer.sources.length;f++)p.push(this._sections[l].consumer.sources[f]);return p}}),a.prototype.originalPositionFor=function(l){var f={generatedLine:t.getArg(l,"line"),generatedColumn:t.getArg(l,"column")},n=e.search(f,this._sections,function(i,m){var v=i.generatedLine-m.generatedOffset.generatedLine;return v||i.generatedColumn-m.generatedOffset.generatedColumn}),h=this._sections[n];return h?h.consumer.originalPositionFor({line:f.generatedLine-(h.generatedOffset.generatedLine-1),column:f.generatedColumn-(h.generatedOffset.generatedLine===f.generatedLine?h.generatedOffset.generatedColumn-1:0),bias:l.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(l){return l.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(l,f){for(var n=0;n<this._sections.length;n++){var h=this._sections[n],i=h.consumer.sourceContentFor(l,!0);if(i)return i}if(f)return null;throw new Error('"'+l+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(l){for(var f=0;f<this._sections.length;f++){var n=this._sections[f];if(n.consumer._findSourceIndex(t.getArg(l,"source"))!==-1){var h=n.consumer.generatedPositionFor(l);if(h){var i={line:h.line+(n.generatedOffset.generatedLine-1),column:h.column+(n.generatedOffset.generatedLine===h.line?n.generatedOffset.generatedColumn-1:0)};return i}}}return{line:null,column:null}},a.prototype._parseMappings=function(l,f){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var h=this._sections[n],i=h.consumer._generatedMappings,m=0;m<i.length;m++){var v=i[m],b=h.consumer._sources.at(v.source);b=t.computeSourceURL(h.consumer.sourceRoot,b,this._sourceMapURL),this._sources.add(b),b=this._sources.indexOf(b);var _=null;v.name&&(_=h.consumer._names.at(v.name),this._names.add(_),_=this._names.indexOf(_));var S={source:b,generatedLine:v.generatedLine+(h.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(h.generatedOffset.generatedLine===v.generatedLine?h.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:_};this.__generatedMappings.push(S),typeof S.originalLine=="number"&&this.__originalMappings.push(S)}o(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),o(this.__originalMappings,t.compareByOriginalPositions)},ae.IndexedSourceMapConsumer=a,ae}var De={},Ot;function en(){if(Ot)return De;Ot=1;var t=Qt().SourceMapGenerator,e=fe(),r=/(\r?\n)/,s=10,o="$$$isSourceNode$$$";function d(c,u,a,p,l){this.children=[],this.sourceContents={},this.line=c??null,this.column=u??null,this.source=a??null,this.name=l??null,this[o]=!0,p!=null&&this.add(p)}return d.fromStringWithSourceMap=function(u,a,p){var l=new d,f=u.split(r),n=0,h=function(){var _=g(),S=g()||"";return _+S;function g(){return n<f.length?f[n++]:void 0}},i=1,m=0,v=null;return a.eachMapping(function(_){if(v!==null)if(i<_.generatedLine)b(v,h()),i++,m=0;else{var S=f[n]||"",g=S.substr(0,_.generatedColumn-m);f[n]=S.substr(_.generatedColumn-m),m=_.generatedColumn,b(v,g),v=_;return}for(;i<_.generatedLine;)l.add(h()),i++;if(m<_.generatedColumn){var S=f[n]||"";l.add(S.substr(0,_.generatedColumn)),f[n]=S.substr(_.generatedColumn),m=_.generatedColumn}v=_},this),n<f.length&&(v&&b(v,h()),l.add(f.splice(n).join(""))),a.sources.forEach(function(_){var S=a.sourceContentFor(_);S!=null&&(p!=null&&(_=e.join(p,_)),l.setSourceContent(_,S))}),l;function b(_,S){if(_===null||_.source===void 0)l.add(S);else{var g=p?e.join(p,_.source):_.source;l.add(new d(_.originalLine,_.originalColumn,g,S,_.name))}}},d.prototype.add=function(u){if(Array.isArray(u))u.forEach(function(a){this.add(a)},this);else if(u[o]||typeof u=="string")u&&this.children.push(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},d.prototype.prepend=function(u){if(Array.isArray(u))for(var a=u.length-1;a>=0;a--)this.prepend(u[a]);else if(u[o]||typeof u=="string")this.children.unshift(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},d.prototype.walk=function(u){for(var a,p=0,l=this.children.length;p<l;p++)a=this.children[p],a[o]?a.walk(u):a!==""&&u(a,{source:this.source,line:this.line,column:this.column,name:this.name})},d.prototype.join=function(u){var a,p,l=this.children.length;if(l>0){for(a=[],p=0;p<l-1;p++)a.push(this.children[p]),a.push(u);a.push(this.children[p]),this.children=a}return this},d.prototype.replaceRight=function(u,a){var p=this.children[this.children.length-1];return p[o]?p.replaceRight(u,a):typeof p=="string"?this.children[this.children.length-1]=p.replace(u,a):this.children.push("".replace(u,a)),this},d.prototype.setSourceContent=function(u,a){this.sourceContents[e.toSetString(u)]=a},d.prototype.walkSourceContents=function(u){for(var a=0,p=this.children.length;a<p;a++)this.children[a][o]&&this.children[a].walkSourceContents(u);for(var l=Object.keys(this.sourceContents),a=0,p=l.length;a<p;a++)u(e.fromSetString(l[a]),this.sourceContents[l[a]])},d.prototype.toString=function(){var u="";return this.walk(function(a){u+=a}),u},d.prototype.toStringWithSourceMap=function(u){var a={code:"",line:1,column:0},p=new t(u),l=!1,f=null,n=null,h=null,i=null;return this.walk(function(m,v){a.code+=m,v.source!==null&&v.line!==null&&v.column!==null?((f!==v.source||n!==v.line||h!==v.column||i!==v.name)&&p.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:a.line,column:a.column},name:v.name}),f=v.source,n=v.line,h=v.column,i=v.name,l=!0):l&&(p.addMapping({generated:{line:a.line,column:a.column}}),f=null,l=!1);for(var b=0,_=m.length;b<_;b++)m.charCodeAt(b)===s?(a.line++,a.column=0,b+1===_?(f=null,l=!1):l&&p.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:a.line,column:a.column},name:v.name})):a.column++}),this.walkSourceContents(function(m,v){p.setSourceContent(m,v)}),{code:a.code,map:p}},De.SourceNode=d,De}var It;function tn(){return It||(It=1,ie.SourceMapGenerator=Qt().SourceMapGenerator,ie.SourceMapConsumer=$s().SourceMapConsumer,ie.SourceNode=en().SourceNode),ie}(function(t,e){e.__esModule=!0;var r=L,s=void 0;try{var o=tn();s=o.SourceNode}catch{}s||(s=function(u,a,p,l){this.src="",l&&this.add(l)},s.prototype={add:function(a){r.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){r.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function d(u,a,p){if(r.isArray(u)){for(var l=[],f=0,n=u.length;f<n;f++)l.push(a.wrap(u[f],p));return l}else if(typeof u=="boolean"||typeof u=="number")return u+"";return u}function c(u){this.srcFile=u,this.source=[]}c.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,p){this.source.unshift(this.wrap(a,p))},push:function(a,p){this.source.push(this.wrap(a,p))},merge:function(){var a=this.empty();return this.each(function(p){a.add(["  ",p,`
`])}),a},each:function(a){for(var p=0,l=this.source.length;p<l;p++)a(this.source[p])},empty:function(){var a=this.currentLocation||{start:{}};return new s(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var p=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return a instanceof s?a:(a=d(a,this,p),new s(p.start.line,p.start.column,this.srcFile,a))},functionCall:function(a,p,l){return l=this.generateList(l),this.wrap([a,p?"."+p+"(":"(",l,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var p=this,l=[];Object.keys(a).forEach(function(n){var h=d(a[n],p);h!=="undefined"&&l.push([p.quotedString(n),":",h])});var f=this.generateList(l);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var p=this.empty(),l=0,f=a.length;l<f;l++)l&&p.add(","),p.add(d(a[l],this));return p},generateArray:function(a){var p=this.generateList(a);return p.prepend("["),p.add("]"),p}},e.default=c,t.exports=e.default})(nt,nt.exports);var rn=nt.exports;(function(t,e){e.__esModule=!0;function r(n){return n&&n.__esModule?n:{default:n}}var s=B,o=H,d=r(o),c=L,u=rn,a=r(u);function p(n){this.value=n}function l(){}l.prototype={nameLookup:function(h,i){return this.internalNameLookup(h,i)},depthedLookup:function(h){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(h),")"]},compilerInfo:function(){var h=s.COMPILER_REVISION,i=s.REVISION_CHANGES[h];return[h,i]},appendToBuffer:function(h,i,m){return c.isArray(h)||(h=[h]),h=this.source.wrap(h,i),this.environment.isSimple?["return ",h,";"]:m?["buffer += ",h,";"]:(h.appendToBuffer=!0,h)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(h,i){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",h,",",JSON.stringify(i),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(h,i,m,v){this.environment=h,this.options=i,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!v,this.name=this.environment.name,this.isChild=!!m,this.context=m||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(h,i),this.useDepths=this.useDepths||h.useDepths||h.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||h.useBlockParams;var b=h.opcodes,_=void 0,S=void 0,g=void 0,y=void 0;for(g=0,y=b.length;g<y;g++)_=b[g],this.source.currentLocation=_.loc,S=S||_.loc,this[_.opcode].apply(this,_.args);if(this.source.currentLocation=S,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new d.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),v?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(v);if(this.isChild)return k;var w={compiler:this.compilerInfo(),main:k};this.decorators&&(w.main_d=this.decorators,w.useDecorators=!0);var E=this.context,x=E.programs,P=E.decorators;for(g=0,y=x.length;g<y;g++)x[g]&&(w[g]=x[g],P[g]&&(w[g+"_d"]=P[g],w.useDecorators=!0));return this.environment.usePartial&&(w.usePartial=!0),this.options.data&&(w.useData=!0),this.useDepths&&(w.useDepths=!0),this.useBlockParams&&(w.useBlockParams=!0),this.options.compat&&(w.compat=!0),v?w.compilerOptions=this.options:(w.compiler=JSON.stringify(w.compiler),this.source.currentLocation={start:{line:1,column:0}},w=this.objectLiteral(w),i.srcName?(w=w.toStringWithSourceMap({file:i.destName}),w.map=w.map&&w.map.toString()):w=w.toString()),w},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(h){var i=this,m="",v=this.stackVars.concat(this.registers.list);v.length>0&&(m+=", "+v.join(", "));var b=0;Object.keys(this.aliases).forEach(function(g){var y=i.aliases[g];y.children&&y.referenceCount>1&&(m+=", alias"+ ++b+"="+g,y.children[0]="alias"+b)}),this.lookupPropertyFunctionIsUsed&&(m+=", "+this.lookupPropertyFunctionVarDeclaration());var _=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&_.push("blockParams"),this.useDepths&&_.push("depths");var S=this.mergeSource(m);return h?(_.push(S),Function.apply(this,_)):this.source.wrap(["function(",_.join(","),`) {
  `,S,"}"])},mergeSource:function(h){var i=this.environment.isSimple,m=!this.forceBuffer,v=void 0,b=void 0,_=void 0,S=void 0;return this.source.each(function(g){g.appendToBuffer?(_?g.prepend("  + "):_=g,S=g):(_&&(b?_.prepend("buffer += "):v=!0,S.add(";"),_=S=void 0),b=!0,i||(m=!1))}),m?_?(_.prepend("return "),S.add(";")):b||this.source.push('return "";'):(h+=", buffer = "+(v?"":this.initializeBuffer()),_?(_.prepend("return buffer + "),S.add(";")):this.source.push("return buffer;")),h&&this.source.prepend("var "+h.substring(2)+(v?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(h){var i=this.aliasable("container.hooks.blockHelperMissing"),m=[this.contextName(0)];this.setupHelperArgs(h,0,m);var v=this.popStack();m.splice(1,0,v),this.push(this.source.functionCall(i,"call",m))},ambiguousBlockValue:function(){var h=this.aliasable("container.hooks.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs("",0,i,!0),this.flushInline();var m=this.topStack();i.splice(1,0,m),this.pushSource(["if (!",this.lastHelper,") { ",m," = ",this.source.functionCall(h,"call",i),"}"])},appendContent:function(h){this.pendingContent?h=this.pendingContent+h:this.pendingLocation=this.source.currentLocation,this.pendingContent=h},append:function(){if(this.isInline())this.replaceStack(function(i){return[" != null ? ",i,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var h=this.popStack();this.pushSource(["if (",h," != null) { ",this.appendToBuffer(h,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(h){this.lastContext=h},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(h,i,m,v){var b=0;!v&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(h[b++])):this.pushContext(),this.resolvePath("context",h,b,i,m)},lookupBlockParam:function(h,i){this.useBlockParams=!0,this.push(["blockParams[",h[0],"][",h[1],"]"]),this.resolvePath("context",i,1)},lookupData:function(h,i,m){h?this.pushStackLiteral("container.data(data, "+h+")"):this.pushStackLiteral("data"),this.resolvePath("data",i,0,!0,m)},resolvePath:function(h,i,m,v,b){var _=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&b,this,i,m,h));return}for(var S=i.length;m<S;m++)this.replaceStack(function(g){var y=_.nameLookup(g,i[m],h);return v?[" && ",y]:[" != null ? ",y," : ",g]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(h,i){this.pushContext(),this.pushString(i),i!=="SubExpression"&&(typeof h=="string"?this.pushString(h):this.pushStackLiteral(h))},emptyHash:function(h){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(h?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var h=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(h.ids)),this.stringParams&&(this.push(this.objectLiteral(h.contexts)),this.push(this.objectLiteral(h.types))),this.push(this.objectLiteral(h.values))},pushString:function(h){this.pushStackLiteral(this.quotedString(h))},pushLiteral:function(h){this.pushStackLiteral(h)},pushProgram:function(h){h!=null?this.pushStackLiteral(this.programExpression(h)):this.pushStackLiteral(null)},registerDecorator:function(h,i){var m=this.nameLookup("decorators",i,"decorator"),v=this.setupHelperArgs(i,h);this.decorators.push(["fn = ",this.decorators.functionCall(m,"",["fn","props","container",v])," || fn;"])},invokeHelper:function(h,i,m){var v=this.popStack(),b=this.setupHelper(h,i),_=[];m&&_.push(b.name),_.push(v),this.options.strict||_.push(this.aliasable("container.hooks.helperMissing"));var S=["(",this.itemsSeparatedBy(_,"||"),")"],g=this.source.functionCall(S,"call",b.callParams);this.push(g)},itemsSeparatedBy:function(h,i){var m=[];m.push(h[0]);for(var v=1;v<h.length;v++)m.push(i,h[v]);return m},invokeKnownHelper:function(h,i){var m=this.setupHelper(h,i);this.push(this.source.functionCall(m.name,"call",m.callParams))},invokeAmbiguous:function(h,i){this.useRegister("helper");var m=this.popStack();this.emptyHash();var v=this.setupHelper(0,h,i),b=this.lastHelper=this.nameLookup("helpers",h,"helper"),_=["(","(helper = ",b," || ",m,")"];this.options.strict||(_[0]="(helper = ",_.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",_,v.paramsInit?["),(",v.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",v.callParams)," : helper))"])},invokePartial:function(h,i,m){var v=[],b=this.setupParams(i,1,v);h&&(i=this.popStack(),delete b.name),m&&(b.indent=JSON.stringify(m)),b.helpers="helpers",b.partials="partials",b.decorators="container.decorators",h?v.unshift(i):v.unshift(this.nameLookup("partials",i,"partial")),this.options.compat&&(b.depths="depths"),b=this.objectLiteral(b),v.push(b),this.push(this.source.functionCall("container.invokePartial","",v))},assignToHash:function(h){var i=this.popStack(),m=void 0,v=void 0,b=void 0;this.trackIds&&(b=this.popStack()),this.stringParams&&(v=this.popStack(),m=this.popStack());var _=this.hash;m&&(_.contexts[h]=m),v&&(_.types[h]=v),b&&(_.ids[h]=b),_.values[h]=i},pushId:function(h,i,m){h==="BlockParam"?this.pushStackLiteral("blockParams["+i[0]+"].path["+i[1]+"]"+(m?" + "+JSON.stringify("."+m):"")):h==="PathExpression"?this.pushString(i):h==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:l,compileChildren:function(h,i){for(var m=h.children,v=void 0,b=void 0,_=0,S=m.length;_<S;_++){v=m[_],b=new this.compiler;var g=this.matchExistingProgram(v);if(g==null){this.context.programs.push("");var y=this.context.programs.length;v.index=y,v.name="program"+y,this.context.programs[y]=b.compile(v,i,this.context,!this.precompile),this.context.decorators[y]=b.decorators,this.context.environments[y]=v,this.useDepths=this.useDepths||b.useDepths,this.useBlockParams=this.useBlockParams||b.useBlockParams,v.useDepths=this.useDepths,v.useBlockParams=this.useBlockParams}else v.index=g.index,v.name="program"+g.index,this.useDepths=this.useDepths||g.useDepths,this.useBlockParams=this.useBlockParams||g.useBlockParams}},matchExistingProgram:function(h){for(var i=0,m=this.context.environments.length;i<m;i++){var v=this.context.environments[i];if(v&&v.equals(h))return v}},programExpression:function(h){var i=this.environment.children[h],m=[i.index,"data",i.blockParams];return(this.useBlockParams||this.useDepths)&&m.push("blockParams"),this.useDepths&&m.push("depths"),"container.program("+m.join(", ")+")"},useRegister:function(h){this.registers[h]||(this.registers[h]=!0,this.registers.list.push(h))},push:function(h){return h instanceof p||(h=this.source.wrap(h)),this.inlineStack.push(h),h},pushStackLiteral:function(h){this.push(new p(h))},pushSource:function(h){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),h&&this.source.push(h)},replaceStack:function(h){var i=["("],m=void 0,v=void 0,b=void 0;if(!this.isInline())throw new d.default("replaceStack on non-inline");var _=this.popStack(!0);if(_ instanceof p)m=[_.value],i=["(",m],b=!0;else{v=!0;var S=this.incrStack();i=["((",this.push(S)," = ",_,")"],m=this.topStack()}var g=h.call(this,m);b||this.popStack(),v&&this.stackSlot--,this.push(i.concat(g,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var h=this.inlineStack;this.inlineStack=[];for(var i=0,m=h.length;i<m;i++){var v=h[i];if(v instanceof p)this.compileStack.push(v);else{var b=this.incrStack();this.pushSource([b," = ",v,";"]),this.compileStack.push(b)}}},isInline:function(){return this.inlineStack.length},popStack:function(h){var i=this.isInline(),m=(i?this.inlineStack:this.compileStack).pop();if(!h&&m instanceof p)return m.value;if(!i){if(!this.stackSlot)throw new d.default("Invalid stack pop");this.stackSlot--}return m},topStack:function(){var h=this.isInline()?this.inlineStack:this.compileStack,i=h[h.length-1];return i instanceof p?i.value:i},contextName:function(h){return this.useDepths&&h?"depths["+h+"]":"depth"+h},quotedString:function(h){return this.source.quotedString(h)},objectLiteral:function(h){return this.source.objectLiteral(h)},aliasable:function(h){var i=this.aliases[h];return i?(i.referenceCount++,i):(i=this.aliases[h]=this.source.wrap(h),i.aliasable=!0,i.referenceCount=1,i)},setupHelper:function(h,i,m){var v=[],b=this.setupHelperArgs(i,h,v,m),_=this.nameLookup("helpers",i,"helper"),S=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:v,paramsInit:b,name:_,callParams:[S].concat(v)}},setupParams:function(h,i,m){var v={},b=[],_=[],S=[],g=!m,y=void 0;g&&(m=[]),v.name=this.quotedString(h),v.hash=this.popStack(),this.trackIds&&(v.hashIds=this.popStack()),this.stringParams&&(v.hashTypes=this.popStack(),v.hashContexts=this.popStack());var k=this.popStack(),w=this.popStack();(w||k)&&(v.fn=w||"container.noop",v.inverse=k||"container.noop");for(var E=i;E--;)y=this.popStack(),m[E]=y,this.trackIds&&(S[E]=this.popStack()),this.stringParams&&(_[E]=this.popStack(),b[E]=this.popStack());return g&&(v.args=this.source.generateArray(m)),this.trackIds&&(v.ids=this.source.generateArray(S)),this.stringParams&&(v.types=this.source.generateArray(_),v.contexts=this.source.generateArray(b)),this.options.data&&(v.data="data"),this.useBlockParams&&(v.blockParams="blockParams"),v},setupHelperArgs:function(h,i,m,v){var b=this.setupParams(h,i,m);return b.loc=JSON.stringify(this.source.currentLocation),b=this.objectLiteral(b),v?(this.useRegister("options"),m.push("options"),["options=",b]):m?(m.push(b),""):b}},function(){for(var n="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),h=l.RESERVED_WORDS={},i=0,m=n.length;i<m;i++)h[n[i]]=!0}(),l.isValidJavaScriptVariableName=function(n){return!l.RESERVED_WORDS[n]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)};function f(n,h,i,m,v){var b=h.popStack(),_=i.length;for(n&&_--;m<_;m++)b=h.nameLookup(b,i[m],v);return n?[h.aliasable("container.strict"),"(",b,", ",h.quotedString(i[m]),", ",JSON.stringify(h.source.currentLocation)," )"]:b}e.default=l,t.exports=e.default})(st,st.exports);var sn=st.exports;(function(t,e){e.__esModule=!0;function r(_){return _&&_.__esModule?_:{default:_}}var s=Ss,o=r(s),d=Ft,c=r(d),u=pe,a=de,p=sn,l=r(p),f=Vt,n=r(f),h=qt,i=r(h),m=o.default.create;function v(){var _=m();return _.compile=function(S,g){return a.compile(S,g,_)},_.precompile=function(S,g){return a.precompile(S,g,_)},_.AST=c.default,_.Compiler=a.Compiler,_.JavaScriptCompiler=l.default,_.Parser=u.parser,_.parse=u.parse,_.parseWithoutProcessing=u.parseWithoutProcessing,_}var b=v();b.create=v,i.default(b),b.Visitor=n.default,b.default=b,e.default=b,t.exports=e.default})(Re,Re.exports);var nn=Re.exports;const pt=sr(nn);class dt{constructor(){C(this,"listeners",{});this.listeners={}}on(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r)}off(e,r){if(!this.listeners[e])throw new Error(`Отсутствует событие ${e}`);this.listeners[e]=this.listeners[e].filter(s=>s!==r)}emit(e,...r){this.listeners[e]&&this.listeners[e].forEach(s=>{s(...r)})}}const R=class R{constructor(e={}){C(this,"eventBus");C(this,"_element",null);C(this,"props");C(this,"children");C(this,"setProps",e=>{e&&Object.assign(this.props,e)});const r=new dt,{props:s,children:o}=this.getChildren(e);this.props=this._makePropsproxy(s),this.children=o,this.childrenInit(),this.eventBus=()=>r,this._registerEvents(r),r.emit(R.EVENTS.INIT)}getChildren(e){const r={},s={};return Object.entries(e).forEach(([o,d])=>{d instanceof R||Array.isArray(d)&&d.every(c=>c instanceof R)?r[o]=d:s[o]=d}),{props:s,children:r}}_registerEvents(e){e.on(R.EVENTS.INIT,this.init.bind(this)),e.on(R.EVENTS.FLOW_CDM,this._componentDidMount.bind(this)),e.on(R.EVENTS.FLOW_CDU,this._componentDidUpdate.bind(this)),e.on(R.EVENTS.FLOW_RENDER,this._render.bind(this))}_addEvents(){const{events:e={}}=this.props;e&&Object.entries(e).forEach(([r,s])=>{var o;s&&((o=this._element)==null||o.addEventListener(r,s))})}_removeEvents(){const{events:e={}}=this.props;e&&Object.entries(e).forEach(([r,s])=>{var o;s&&((o=this._element)==null||o.removeEventListener(r,s))})}init(){this.eventBus().emit(R.EVENTS.FLOW_RENDER)}childrenInit(){}_componentDidMount(){this.componentDidMount()}componentDidMount(){}dispatchComponentDidMount(){this.eventBus().emit(R.EVENTS.FLOW_CDM)}_componentDidUpdate(e,r){this.componentDidUpdate(e,r)&&this.eventBus().emit(R.EVENTS.FLOW_RENDER)}componentDidUpdate(e,r){return e&&r}_makePropsproxy(e){return new Proxy(e,{get:(r,s)=>{const o=r[s];return typeof o=="function"?o.bind(r):o},set:(r,s,o)=>{const d={...r};return r[s]=o,this.eventBus().emit(R.EVENTS.FLOW_CDU,d,r),!0},deleteProperty:()=>{throw new Error("Нет доступа")}})}_render(){const r=this.render().firstElementChild;r&&this._element&&(this._removeEvents(),this._element.replaceWith(r)),this._element=r,this._addEvents()}render(){return new DocumentFragment}_createElement(e){return document.createElement(e)}compile(e,r){const s={...r};Object.entries(this.children).forEach(([d,c])=>{var u;if(Array.isArray(c)){s[d]=c.map(a=>{var p;return typeof a.id>"u"&&(a.id=((p=a.props)==null?void 0:p.id)??Date.now()),`<div data-id=id-${a.id}></div>`}).join("");return}typeof c.id>"u"&&(c.id=((u=c.props)==null?void 0:u.id)??Date.now()),s[d]=`<div data-id=id-${c.id}></div>`});const o=this._createElement("template");return o.innerHTML=pt.compile(e)(s),Object.values(this.children).forEach(d=>{if(Array.isArray(d))return d.forEach(u=>{const a=o.content.querySelector(`[data-id='id-${u.id}']`);a&&a.replaceWith(u.getContent())}),o.content;const c=o.content.querySelector(`[data-id='id-${d.id}']`);return c&&c.replaceWith(d.getContent()),!0}),o.content}getContent(){return this._element}show(){this.getContent().style.display="block"}hide(){this.getContent().style.display="none"}get element(){return this._element}};C(R,"EVENTS",{INIT:"init",FLOW_CDM:"flow:component-did-mount",FLOW_CDU:"flow:component-did-update",FLOW_RENDER:"flow:render"});let M=R;const an=`<form action="" id="formlogin" class="login__box">
  <div class="login">
    <div class="login__title">Вход</div>
    <div class="login__form">
      {{{login}}}
      {{{password}}}
    </div>
    <div class="login__btn-box">
      {{{button}}}
      {{{link}}}
    </div>
  </div>
</form>`,on=`<div class="input__box js-input" data-id="{{id}}">
  <label class="input__label">{{label}}</label>
  <span class="input__wrapper">
    <input
      id="{{id}}"
      name="{{name}}"
      type="{{type}}"
      {{#if placeholder}}placeholder="{{placeholder}}"{{/if}}
      value="{{value}}"
      class="input__text"
      {{#if rule}}data-rule="{{rule}}"{{/if}}
    >
  </span>
  {{#if error}}
  <span class="input__error">{{error}}</span>
  {{/if}}
</div>`,z={name:{regxp:/^[A-ZА-ЯЁ]{1}[A-Za-zА-ЯЁа-яё-]+$/,message:"Может состоять только из букв (также можно дефис), первая должна быть заглавной"},login:{regxp:/^[A-Za-z0-9_-]{3,20}$/,message:'Имеет длину от 3 до 20 символов, состоит из латинских букв, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы "-" и "_")'},email:{regxp:/^[\w+-.]+@([\w-]+\.)+[\w-]{2,4}$/,message:'Состоит из латиницы, цифр, знаков "-" и "_"; содержит знак "@" и точку после него, перед и после точки должны быть буквы'},password:{regxp:/^(?=.*[A-Z])(?=.*[0-9])(?=.*[a-z])(\w|-|_){8,40}$/,message:"Имеет длину от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра"},phone:{regxp:/^\+?\d{10,15}$/,message:'Начинается со знака "+", имеет длину от 10 до 15 цифр'},notempty:{regxp:/^.+$/,message:"Поле не должно быть пустым"}},ln=(t,e)=>typeof z[e]>"u"||z[e].regxp.test(t)?!0:z[e].message,ft=(t,e)=>{var o;const r=(o=t.parentElement)==null?void 0:o.parentElement;r.classList.add("error"),(t==null?void 0:t.value)!==""?r.classList.add("is--active"):r.classList.remove("is--active");const s=r.querySelector(".input__error");if(s!==null)s.innerHTML=e;else{const d=document.createElement("div");d.classList.add("input__error"),d.innerHTML=e,r.appendChild(d)}setTimeout(()=>{var d;return(d=r.querySelector(".input__error"))==null?void 0:d.remove()},3e3)},un=t=>{const e=ln(t.value,t.dataset.rule??"");return e===!0?!0:(ft(t,e),!1)},X=t=>{const e=document.getElementById(t);return e?un(e):!1},cn=t=>{t.classList.remove("error");const e=t.querySelector(".input__error");e!==null&&e.remove()},hn=t=>{var r;const e=(r=document.getElementById(t))==null?void 0:r.closest(".input__box");e&&(e.classList.add("is--active"),cn(e))};class D extends M{constructor(e){super({...e,events:{focusout:()=>X(this.props.id),focusin:()=>hn(this.props.id),...e.events??{}}})}render(){const e={label:this.props.label,id:this.props.id,name:this.props.name,type:this.props.type};return this.props.placeholder&&(e.placeholder=this.props.placeholder),this.props.value&&(e.value=this.props.value),this.props.rule&&(e.rule=this.props.rule),this.compile(on,e)}}const pn=`<button
  id="{{id}}"
  class="{{class}}"
  {{#if link}}data-link="{{link}}"{{/if}}
  {{#if type}}type="{{type}}"{{/if}}
>{{{ inner }}}</button>`;class O extends M{constructor(e){super({...e})}render(){const e={id:this.props.id,class:this.props.class,inner:this.props.inner};return this.props.link&&(e.link=this.props.link),this.props.type&&(e.type=this.props.type),this.compile(pn,e)}}const dn=`<a href="{{ link }}" class="{{ class }}" data-link="{{ link }}">
  {{{ inner }}}
</a>
`;function fn(t,e){const r=document.querySelector(t);if(r===null)throw new Error(`root not found by selector "${t}"`);return r.innerHTML="",r.append(e.getContent()),r}class mn{constructor(e,r,s){C(this,"_pathname");C(this,"_blockClass");C(this,"_block");C(this,"_props");this._pathname=e,this._blockClass=r,this._block=null,this._props=s}navigate(e){this.match(e)&&(this._pathname=e,this.render())}leave(){this._block=null}match(e){return e===this._pathname}render(){this._block||(this._block=new this._blockClass({})),fn(this._props.rootQuery,this._block)}}const re=class re{constructor(){C(this,"routes",[]);C(this,"history",window.history);C(this,"_currentRoute",null);C(this,"_rootQuery","#app");if(re._instance)return re._instance;this.routes=[],this.history=window.history,this._currentRoute=null,re._instance=this}setRoot(e){return this._rootQuery=e,this}use(e,r){const s=new mn(e,r,{rootQuery:this._rootQuery});return this.routes.push(s),this}start(){window.onpopstate=e=>{this._onRoute(e.currentTarget.location.pathname)},this.history.pushState("","",window.location.pathname),this._onRoute(window.location.pathname)}_onRoute(e){const r=this.getRoute(e);r&&(this._currentRoute&&this._currentRoute,this._currentRoute=r,r.render())}go(e){this.history.pushState({},"",e),this._onRoute(e)}back(){this.history.back()}forward(){this.history.forward()}getRoute(e){return this.routes.find(r=>r.match(e))}};C(re,"_instance");let ce=re;const U=new ce;class Q extends M{constructor(e){super({...e,events:{click:r=>{r.preventDefault(),this.go()}}})}go(){new ce().go(this.props.link)}render(){return this.compile(dn,{class:this.props.class,link:this.props.link,inner:this.props.inner})}}function gn(t){if(typeof t!="object")throw new Error("Data must be object");const e=[];for(let[r,s]of Object.entries(t))s=Array.isArray(s)?s.join(","):s,e.push(`${r}=${s}`),r="1";return e.length?`?${e.join("&")}`:""}class vn{constructor(e){C(this,"API","https://ya-praktikum.tech/api/v2");C(this,"TIMEOUT",5e3);C(this,"url");C(this,"get",(e="",r={})=>this.request(this.url+e,{method:"GET",data:r}));C(this,"put",(e,r={})=>this.request(this.url+e,{method:"PUT",data:r}));C(this,"post",(e,r={})=>this.request(this.url+e,{method:"POST",data:r}));C(this,"delete",(e,r={})=>this.request(this.url+e,{method:"DELETE",data:r}));this.url=`${this.API}${e}`}request(e,r){const{method:s,data:o}=r;return new Promise((d,c)=>{if(!s){c("No method");return}s==="GET"&&o&&(e+=gn(o));const u=new XMLHttpRequest;u.open(s,e),o instanceof FormData||u.setRequestHeader("Content-Type","application/json"),u.timeout=this.TIMEOUT,u.withCredentials=!0,u.responseType="json",u.onabort=c,u.onerror=c,u.ontimeout=c,u.onreadystatechange=()=>{u.readyState===XMLHttpRequest.DONE&&(u.status<400?d(u.response):c(u.response))},s==="GET"||!o?u.send():u.send(o instanceof FormData?o:JSON.stringify(o))})}}class ke{constructor(e){C(this,"http");this.http=new vn(e)}}class _n extends ke{constructor(){super("/auth");C(this,"create");C(this,"update");C(this,"delete")}register(r){return this.http.post("/signup",r)}login(r){return this.http.post("/signin",r)}read(){return this.http.get("/user")}logout(){return this.http.post("/logout")}}const ve=new _n;function yn(t){return typeof t=="object"&&t!==null&&t.constructor===Object&&Object.prototype.toString.call(t)==="[object Object]"}function Zt(t,e){for(const r in e)if(e.hasOwnProperty(r))try{e[r].constructor===Object?e[r]=Zt(t[r],e[r]):t[r]=e[r]}catch{t[r]=e[r]}return t}function bn(t,e,r){if(!yn(t))return t;if(typeof e!="string")throw new Error("path must be string");const s=e.split(".").reduceRight((o,d)=>({[d]:o}),r);return Zt(t,s)}var Yt=(t=>(t.UPDATED="updated",t))(Yt||{});class Sn extends dt{constructor(){super(...arguments);C(this,"state",{chats:[],currentChat:void 0,messages:{},users:[],foundUsers:[]})}getState(){return this.state}set(r,s){bn(this.state,r,s),this.emit("updated",this.getState())}}const I=new Sn;class Z{static async login(e){try{await ve.login(e),await this.fetchUser(),U.go(A.Chatspage.url)}catch(r){console.error("Error in AuthController.login: ",r)}}static async register(e){try{await ve.register(e),await this.fetchUser(),U.go(A.Chatspage.url)}catch(r){console.error("Error in AuthController.register: ",r)}}static async logout(){try{await ve.logout(),I.set("user",void 0),U.go(A.Auth.url)}catch(e){console.error("Error in AuthController.logout: ",e)}}static async fetchUser(){try{const e=await ve.read();I.set("user",e)}catch(e){console.error("Error in AuthController.fetchUser: ",e)}}}class wn extends ke{constructor(){super("/chats");C(this,"update")}read(){return this.http.get("")}create(r){return this.http.post("",{title:r})}delete(r){return this.http.delete("",{chatId:r})}readChatToken(r){return this.http.post(`/token/${r}`)}updateAvatar(r){return this.http.put("/avatar",r)}}const j={CONNECTED:"connected",ERROR:"Error",MESSAGE:"message",CLOSE:"close"};class kn extends dt{constructor(r){super();C(this,"socket",null);C(this,"pingInterval",0);this.url=r}send(r){if(!this.socket)throw new Error("Socket is not connected");this.socket.send(JSON.stringify(r))}connect(){return this.socket=new WebSocket(this.url),this.subscribe(this.socket),this.setupPing(),new Promise(r=>{this.on(j.CONNECTED,()=>r())})}close(){var r;(r=this.socket)==null||r.close()}setupPing(){this.pingInterval=window.setInterval(()=>{this.send({type:"ping"})},5e3),this.on(j.CLOSE,()=>{clearInterval(this.pingInterval),this.pingInterval=0})}subscribe(r){r.addEventListener("open",()=>this.emit(j.CONNECTED)),r.addEventListener("close",()=>this.emit(j.CLOSE)),r.addEventListener("error",s=>this.emit(j.ERROR,s)),r.addEventListener("message",s=>{if(s.data==="WS token is not valid")throw console.log(s),new Error("Unable to get messages, have error");const o=JSON.parse(s.data);(o==null?void 0:o.type)==="pong"||(o==null?void 0:o.type)==="user connected"||this.emit(j.MESSAGE,o)})}}class Cn{constructor(e){C(this,"sockets",new Map);C(this,"baseURL");this.baseURL=e}async connect(e,r){var d;if(this.sockets.has(e))return;const s=(d=I.getState().user)==null?void 0:d.id,o=new kn(`${this.baseURL}${s}/${e}/${r}`);this.sockets.set(e,o),await o.connect(),this.subscribe(o,e),this.fetchMessages(e)}subscribe(e,r){e.on(j.MESSAGE,s=>this.onMessage(r,s)),e.on(j.CLOSE,()=>this.onClose(r))}fetchMessages(e){const r=this.sockets.get(e);if(!r)throw new Error(`Chat ${e} not connected`);r.send({type:"get old",content:null})}onClose(e){this.sockets.delete(e)}onMessage(e,r){let s=[];Array.isArray(r)?s=r.flat().reverse():s.push(r),s=[...(I.getState().messages||{})[e]||[],...s],I.set(`messages.${e}`,s)}closeAllChats(){Array.from(this.sockets.values()).forEach(e=>e.close())}postMessage(e,r){const s=this.sockets.get(e);if(!s)throw new Error(`Chat ${e} not connected`);s.send({type:"message",content:r})}}const Xt=new Cn("wss://ya-praktikum.tech/ws/chats/");class En{constructor(){C(this,"api");this.api=new wn}async createChat(e){try{await this.api.create(e)}catch(r){console.error("Error in ChatsController.createChat: ",r)}}async deleteChat(e){try{await this.api.delete(e)}catch(r){console.error("Error in ChatsController.deleteChat: ",r)}}async getList(){try{const e=await this.api.read();e.map(async r=>{const s=await this.getToken(r.id);s&&await Xt.connect(r.id,s)}),e.map(r=>{var s;(s=r==null?void 0:r.last_message)!=null&&s.time&&(r.last_message.time=new Date().getDay()!==new Date(r.last_message.time).getDay()?new Date(r.last_message.time).toLocaleDateString():new Date(r.last_message.time).toLocaleTimeString())}),I.set("chats",e)}catch(e){console.error("Error in ChatsController.getList: ",e)}}async updateAvatar(e){try{const r=await this.api.updateAvatar(e);I.set("chats",I.getState().chats.map(s=>s.id===r.id?r:s))}catch(r){console.error("Error in ChatsController.updateAvatar: ",r)}}setChat(e){I.set("currentChat",e)}async getToken(e){try{const{token:r}=await this.api.readChatToken(e);return r}catch(r){return console.error("Error in ChatsController.getToken: ",r),!1}}}const q=new En;class Pn extends M{constructor(){super({events:{submit:e=>this.submitAuth(e)}})}childrenInit(){this.children={login:new D({label:"Логин",id:"login",name:"login",type:"text",rule:"notempty"}),password:new D({label:"Пароль",id:"password",name:"password",type:"password",rule:"notempty"}),button:new O({inner:"Войти",class:"btn",id:"submit-login",link:"/chatlist",type:"submit"}),link:new Q({class:"align_center",link:"/sign-up",inner:"Впервые?"})}}submitAuth(e){e.preventDefault();let r=!0;const s={};Object.values(this.children).forEach(o=>{var d;!o.props.rule||o.props.rule===""||typeof z[o.props.rule]>"u"||(X(o.id)?s[o.props.name]=(d=document.getElementById(o.props.id))==null?void 0:d.value:r=!1)}),r&&Z.login(s).then(()=>{q.getList(),U.go(A.Chatspage.url)}).catch(o=>{o.reason==="User already in system"?U.go(A.Chatspage.url):(alert("Ошибка авторизации!"),console.log(o))})}componentDidMount(){Z.fetchUser().then(()=>U.go(A.Chatspage.url))}render(){return this.compile(an,{})}}const Ln=`<div class="profile">
  <div class="profile__backlink">
    {{{ backlink }}}
  </div>
  <div class="profile__container">
    <div class="profile__inner">
      <div class="profile__avatar">
        <div class="profile__avatar-img">
          <div class="profile__avatar-no"></div>
          {{{ avatar }}}
        </div>
        <div class="profile__name-title">{{display_name}}</div>
      </div>
      <form action="" id="form-profile">
      <div class="profile__body">
      {{{ editrows }}}
      </div>
      <div class="profile__single-button">
        {{{ button }}}
      </div>
      </form>
    </div>
  </div>
</div>
`;class Mn extends ke{constructor(){super("/user");C(this,"create");C(this,"read");C(this,"update");C(this,"delete")}updateProfile(r){return this.http.put("/profile",r)}updateAvatar(r){return this.http.put("/profile/avatar",r)}updatePassword(r){return this.http.put("/password",r)}searchUser(r){return this.http.post("/search",{login:r})}}class xn{constructor(){C(this,"api");this.api=new Mn}async updateProfile(e){try{await this.api.updateProfile(e)}catch(r){console.error("Error in UserController.: ",r)}}async updateAvatar(e){try{const r=await this.api.updateAvatar(e);I.set("currentUser",r)}catch(r){console.error("Error in UserController.: ",r)}}async updatePassword(e){try{await this.api.updatePassword(e)}catch(r){console.error("Error in UserController.: ",r)}}async searchUser(e){try{const r=await this.api.searchUser(e);return I.set("foundUsers",r),r}catch(r){return console.error("Error in UserController.: ",r),!1}}}const Ce=new xn;function F(t){return function(r){let s=null;return class extends r{constructor(o){s=t(I.getState()),super({...o,...s}),I.on(Yt.UPDATED,()=>{const d=t(I.getState());this.setProps({...d})})}}}}const An='<input id="{{id}}" type="file" accept="image/*" name="{{name}}" class="file__input">';class On extends M{constructor(e){super({...e})}render(){return this.compile(An,this.props)}}const In=`<div id="{{ id }}" class="modal" style="display:none;">
  <div class="modal__bg"></div>
  <div class="modal__box">
    <div class="modal__panel">
      <h3 class="modal__title">
        {{ title }}
      </h3>
      <form class="modal__form">
        <div class="modal__content">
          {{{ content }}}
        </div>
        <div class="modal__btns">
          {{{ cancel }}}
          {{{ submit }}}
        </div>
      </form>
    </div>
  </div>
</div>`;class le extends M{constructor(e){super({...e})}render(){return this.compile(In,this.props)}}const Nn=`<div class="avatar">
{{#if avatar}}
  <img src="https://ya-praktikum.tech/api/v2/resources{{avatar}}">
{{/if}}
{{{ avatarButton }}}
{{{ avatarModal }}}
</div>`;class mt extends M{constructor(e){super({...e})}childrenInit(){this.children={avatarButton:new O({id:"showModal",inner:"",class:"avatar-button",events:{click:()=>this.showModal("avatarModal")}}),avatarModal:new le({id:"avatarModal",title:"Загрузить аватарку",content:new On({id:"avatar",name:"avatar"}),cancel:new O({id:"cancel",class:"btn btn__cancel",type:"button",inner:"Отменить",events:{click:e=>{e==null||e.preventDefault(),this.closeModal("avatarModal")}}}),submit:new O({id:"submit",class:"btn btn__submit",type:"submit",inner:"Добавить",events:{click:e=>{e==null||e.preventDefault(),this.sendAvatar()}}}),events:{submit:e=>{e==null||e.preventDefault(),this.sendAvatar()}}})}}async sendAvatar(){var s;const e=new FormData,r=document.getElementById("avatar");(s=r==null?void 0:r.files)!=null&&s.length&&(e.append("avatar",r.files[0]),this.props.currentChat?(e.append("chatId",this.props.currentChat),await q.updateAvatar(e).then(()=>{q.getList(),r.value=""}).catch(o=>console.log("Ошибка добавления аватара к чату: ",o,o.reason))):await Ce.updateAvatar(e).then(()=>{Z.fetchUser(),r.value=""}).catch(o=>console.log("Ошибка добавления аватара к пользователю: ",o.reason))),this.closeModal("avatarModal")}showModal(e){this.children[e].show()}closeModal(e){this.children[e].hide()}render(){return this.compile(Nn,this.props)}}const Dn=t=>{var e;return{avatar:((e=t.user)==null?void 0:e.avatar)??""}},Rn=F(Dn)(mt),$t=F(t=>{var e;return{avatar:((e=t.user)==null?void 0:e.avatar)??""}})(mt),Bn=F(t=>{var e,r;return{avatar:((r=(e=t.chats)==null?void 0:e.find(s=>s.id===t.currentChat))==null?void 0:r.avatar)??"",currentChat:t.currentChat}})(mt),Tn=`<dl class="profile__row">
  <dt class="profile__row-label">{{ labeltext }}</dt>
  <dl class="profile__row-value">{{{ input }}}</dl>
</dl>`;class Un extends M{constructor(e){super({...e})}childrenInit(){this.children.input=new D({label:this.props.label,id:this.props.id,name:this.props.name,type:this.props.type,value:this.props.value??"",rule:this.props.rule??""})}render(){return this.compile(Tn,this.props)}}function Ee(){I.getState().user||Z.fetchUser().catch(t=>{console.log("Error: ",t.reason),U.go(A.Auth.url)})}const it={login:"Логин",first_name:"Имя",second_name:"Фамилия",display_name:"Отображаемое имя",email:"E-mail",password:"Пароль",phone:"Телефон",oldpassword:"Прежний пароль",newpassword:"Новый пароль"},be={login:"login",first_name:"name",second_name:"notempty",display_name:"notempty",email:"email",password:"password",phone:"phone",oldpassword:"password",newpassword:"password"};class Hn extends M{constructor(e){super({...e})}init(){super.init(),Ee()}childrenInit(){this.children={},this.children.backlink=new Q({class:"btn__circle",link:A.Profile.url,inner:""}),this.children.avatar=new $t({}),this.children.editrows=Object.keys(it).filter(e=>["password","oldpassword","newpassword"].indexOf(e)===-1).map(e=>new Un({labeltext:it[e],label:"",id:e,name:e,type:"text",value:this.props[e]??"",rule:be[e]??""})),this.children.button=new O({id:"profile-submit",inner:"Сохранить",link:A.Profile.url,class:"btn",events:{click:e=>this.submitProfile(e)}})}submitProfile(e){var d;e.preventDefault();let r=!0;const s={},o=(d=document.getElementById("form-profile"))==null?void 0:d.querySelectorAll("input");if(o==null||o.forEach((c,u)=>{var p,l,f;const a=c.getAttribute("name")??`name_${u}`;if(!((p=c.dataset)!=null&&p.rule)||((l=c.dataset)==null?void 0:l.rule)===""||typeof z[(f=c.dataset)==null?void 0:f.rule]>"u"){s[a]=c.value;return}if(!X(c.getAttribute("id"))){r=!1;return}s[a]=c.value}),r){Ce.updateProfile(s);const c=document.getElementById("profile-submit");c!=null&&c.innerHTML&&(c.innerHTML="Сохранено",c.setAttribute("disabled","disabled"),setTimeout(()=>{c.innerHTML="Сохранить",c.removeAttribute("disabled")},2e3))}}render(){return this.compile(Ln,this.props)}}const qn=F(t=>{var e,r,s,o,d,c,u;return{login:(e=t.user)==null?void 0:e.login,first_name:(r=t.user)==null?void 0:r.first_name,second_name:(s=t.user)==null?void 0:s.second_name,phone:(o=t.user)==null?void 0:o.phone,email:(d=t.user)==null?void 0:d.email,display_name:(c=t.user)==null?void 0:c.display_name,avatar:(u=t.user)==null?void 0:u.avatar}}),Fn=qn(Hn),Vn=`<div class="profile">
  <div class="profile__backlink">
    {{{ backlink }}}
  </div>
  <div class="profile__container">
    <div class="profile__inner">
      <div class="profile__avatar">
        <div class="profile__avatar-img">
          <div class="profile__avatar-no"></div>
          {{{ avatar }}}
        </div>
        <div class="profile__name-title">{{display_name}}</div>
      </div>
      <form action="" id="form-profile">
      <div class="profile__body">
        <dl class="profile__row">
          <dt class="profile__row-label">Старый пароль</dt>
          <dl class="profile__row-value">{{{ oldpsw }}}</dl>
        </dl>
        <dl class="profile__row">
          <dt class="profile__row-label">Новый пароль</dt>
          <dl class="profile__row-value">{{{ newpsw }}}</dl>
        </dl>
        <dl class="profile__row">
          <dt class="profile__row-label">Повторение нового пароля</dt>
          <dl class="profile__row-value">{{{ newpswrepeat }}}</dl>
        </dl>
      </div>
      <div class="profile__single-button">
        {{{ button }}}
      </div>
      </form>
    </div>
  </div>
</div>
`;class Gn extends M{constructor(e){super({...e})}init(){super.init(),Ee()}childrenInit(){this.children={backlink:new Q({class:"btn__circle",link:A.Profile.url,inner:""}),avatar:new Rn({}),oldpsw:new D({label:"",id:"oldPassword",name:"oldPassword",type:"password",value:"",rule:be.oldpassword}),newpsw:new D({label:"",id:"newPassword",name:"newPassword",type:"password",value:"",rule:be.newpassword}),newpswrepeat:new D({label:"",id:"newPasswordRepeat",name:"newPasswordRepeat",type:"password",value:"",rule:be.newpassword}),button:new O({id:"profile-submit",inner:"Сохранить",link:A.Profile.url,class:"btn",events:{click:e=>this.submitProfile(e)}})}}submitProfile(e){var d;e.preventDefault();let r=!0;const s={},o=(d=document.getElementById("form-profile"))==null?void 0:d.querySelectorAll("input");if(o==null||o.forEach((c,u)=>{const a=c.getAttribute("name")??`name_${u}`;if(a==="newPasswordRepeat"&&c.value!==document.getElementById("newPassword").value){ft(c,"Введенные пароли (новый и повторный) не совпадают"),r=!1;return}if(!X(c.getAttribute("id"))){r=!1;return}a!=="newPasswordRepeat"&&(s[a]=c.value)}),r){Ce.updatePassword(s);const c=document.getElementById("profile-submit");c!=null&&c.innerHTML&&(c.innerHTML="Сохранено",c.setAttribute("disabled","disabled"),setTimeout(()=>{c.innerHTML="Сохранить",c.removeAttribute("disabled"),o==null||o.forEach(u=>{u.value=""})},2e3))}}render(){return this.compile(Vn,this.props)}}class Wn extends ke{constructor(){super("/chats");C(this,"create");C(this,"read");C(this,"update");C(this,"delete")}getUsers(r){return this.http.get(`/${r}/users`)}addUsers(r,s){return this.http.put("/users",{users:s,chatId:r})}deleteUsers(r,s){return this.http.delete("/users",{users:s,chatId:r})}}class jn{constructor(){C(this,"api");this.api=new Wn}async getChatUsers(e){try{const r=await this.api.getUsers(e);return I.set("chatUsers",r),r}catch(r){return console.error("Error in ChatUsersController.: ",r),!1}}async addUsers(e,r){try{return await this.api.addUsers(e,r)}catch(s){return console.error("Error in ChatUsersController.: ",s),!1}}async deleteUsers(e,r){try{return await this.api.deleteUsers(e,r)}catch(s){return console.error("Error in ChatUsersController.: ",s),!1}}}const te=new jn,Kn=`<div class="chat-messages__list">
  <div class="chat-messages__list-inner">
  {{#each message}}
  <div class="chat-message__textbox {{#if isAuthor}}self{{/if}}">
    <div class="chat-message__body">
      {{{ content }}}
    </div>
    <div class="chat-message__time">{{ datetime }}</div>
  </div>
  {{else}}
  <div class="chat-messages-list empty">Сообщений пока нет</div>
  {{/each}}
  </div>
</div>`;class Jn extends M{constructor(e){super({...e})}render(){return this.compile(Kn,{message:this.props.messages})}}const zn=t=>{const e=t.currentChat?(t.messages||{})[t.currentChat]:[];return{messages:e==null?void 0:e.map(r=>{var s;return{isAuthor:r.user_id===((s=t.user)==null?void 0:s.id),datetime:new Date(r.time).toLocaleString(),content:r.content}})}},Qn=F(zn)(Jn),Zn=`<div class="modal-inner__checkboxes">
{{#each chatuser}}
<span class="chat-users__item">
  <input class="hidden__checkbox" id="chatuser_{{id}}" type="checkbox" name="chatuser[{{id}}]" value="{{id}}">
  <label class="hidden__label" for="chatuser_{{id}}">{{login}} - {{display_name}} ({{first_name}} {{second_name}})</label>
</span>
{{/each}}
</div>`;class Yn extends M{constructor(e){super({...e})}render(){return this.compile(Zn,{chatuser:this.props.chatUsers})}}const Xn=F(t=>({chatUsers:t.chatUsers??[]})),$n=Xn(Yn),ei=`<div class="found-users">
{{#each found}}
  <div class="found-users__item" data-id="{{id}}" data-login="{{login}}">{{display_name}} ({{first_name}} {{second_name}} / {{login}})</div>
{{/each}}
</div>`;class ti extends M{constructor(e){super({...e})}render(){const e=(I.getState().foundUsers||[]).map(r=>({id:r.id,display_name:r.display_name??"Без имени",first_name:r.first_name,second_name:r.second_name,login:r.login}));return this.compile(ei,{found:e})}}const ri=t=>(t.foundUsers||[]).map(e=>({id:e.id,display_name:e.display_name??"Без имени",first_name:e.first_name,second_name:e.second_name,login:e.login})),si=F(ri)(ti),ni='<div class="empty">{{{ innerText }}}</div>';class ii extends M{constructor(e){super({...e})}render(){return this.compile(ni,this.props)}}const ai=`<div class="chat-box">
{{#if currentChat}}
  <div class="chat-body__titlebox">
    <div class="chat-body__namebox">
      <div class="chat-body__avatar">
      {{{ avatar }}}
      </div>
      <div class="chat-body__name">{{chat.title}}</div>
    </div>
    <div class="chat-body__menu js-menu-parent">
      <button class="chat-body__menu-btn js-show-menu" id="chatmenu">
        <span class="ico-submenu">
          <svg width="3" height="16" viewBox="0 0 3 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="1.5" cy="2" r="1.5" fill="currentColor"/>
            <circle cx="1.5" cy="8" r="1.5" fill="currentColor"/>
            <circle cx="1.5" cy="14" r="1.5" fill="currentColor"/>
          </svg>
        </span>
      </button>
      <div class="chat-body__menu-popup popup_rounded">
        <div class="chat-body__menu-inner">
        {{{ addUser }}}
        {{{ deleteUser }}}
        {{{ deleteChat }}}
        </div>
      </div>
    </div>
  </div>
  {{{ chatMessages }}}
   <div class="chat-body__newbox">
    <form action="" id="newmessage">
      <div class="newmessage">
        <div class="newmessage__attach js-menu-parent">
          <button class="newmessage__attach-btn js-show-menu" type="button" id="attach">
            <span class="ico-attach">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M7.18662 13.5L14.7628 5.92389L15.7056 6.8667L8.12943 14.4428L7.18662 13.5Z" fill="currentColor"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M9.70067 16.014L17.2768 8.43781L18.2196 9.38062L10.6435 16.9568L9.70067 16.014Z" fill="currentColor"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M15.0433 21.3567L22.6195 13.7806L23.5623 14.7234L15.9861 22.2995L15.0433 21.3567Z" fill="currentColor"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M17.5574 23.8706L25.1335 16.2945L26.0763 17.2373L18.5002 24.8134L17.5574 23.8706Z" fill="currentColor"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M17.5574 23.8709C14.9423 26.486 10.7118 26.4954 8.10831 23.8919C5.50482 21.2884 5.51424 17.0579 8.12936
                  14.4428L7.18655 13.5C4.0484 16.6381 4.0371 21.7148 7.16129 24.839C10.2855 27.9632 15.3621 27.9518 18.5003 24.8137L17.5574 23.8709Z" fill="currentColor"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M22.6195 13.7806L23.5623 14.7234C26.003 12.2826 26.0118 8.3341 23.5819 5.90417C21.152 3.47424 17.2035 3.48304
                  14.7627 5.92381L15.7055 6.86662C17.6233 4.94887 20.7257 4.94196 22.6349 6.85119C24.5441 8.76042 24.5372 11.8628 22.6195 13.7806Z" fill="currentColor"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M9.70092 16.0144C7.95751 17.7578 7.95123 20.5782 9.68689 22.3138C11.4226 24.0495 14.2429 24.0432 15.9863
                  22.2998L15.0435 21.357C13.8231 22.5774 11.8489 22.5818 10.6339 21.3668C9.41894 20.1518 9.42334 18.1776 10.6437 16.9572L9.70092 16.0144Z" fill="currentColor"/>
              </svg>
            </span>
          </button>
          <div class="newmessage__attach-popup popup_rounded">
            <div class="newmessage__attach-inner">
              <div class="chat-body__menu-link">
                <span class="chat-body__menu-icon media"></span>
                <span class="chat-body__menu-title">Фото или Видео</span>
              </div>
              <div class="chat-body__menu-link">
                <span class="chat-body__menu-icon file"></span>
                <span class="chat-body__menu-title">Файл</span>
              </div>
              <div class="chat-body__menu-link">
                <span class="chat-body__menu-icon location"></span>
                <span class="chat-body__menu-title">Локация</span>
              </div>
            </div>
          </div>
        </div>
        <div class="newmessage__input">
          <input type="text" name="message" id="message" class="input__message" placeholder="Сообщение" data-rule="notempty">
        </div>
        <div class="newmessage__send">
          {{{ sendMessage }}}
        </div>
      </div>
    </form>
  </div>
{{else}}
 <div class="chat-box empty">Выберите чат для просмотра сообщений</div>
{{/if}}
{{{ addUserModal }}}
{{{ delUserModal }}}
{{{ delChatModal }}}
</div>`;class oi extends M{constructor(e){super({...e,events:{click:r=>{var s;r.target.closest(".js-show-menu")&&((s=r.target.closest(".js-menu-parent"))==null||s.classList.toggle("active"))}}})}childrenInit(){this.children={addUser:new O({inner:"Добавить пользователя",class:"chat-body__menu-link add",id:"add_user",link:"",type:"button",events:{click:e=>{e==null||e.preventDefault(),this.showModal("addUserModal")}}}),deleteUser:new O({inner:"Удалить пользователя",class:"chat-body__menu-link delete",id:"delete_user",link:"",type:"button",events:{click:async e=>{e==null||e.preventDefault(),this.props.currentChat&&(await te.getChatUsers(this.props.currentChat),this.showModal("delUserModal"))}}}),deleteChat:new O({inner:"Удалить чат",class:"chat-body__menu-link delete",id:"delete_chat",link:"",type:"button",events:{click:async e=>{e==null||e.preventDefault(),this.props.currentChat&&this.showModal("delChatModal")}}}),avatar:new Bn({}),chatMessages:new Qn({}),sendMessage:new O({inner:'<span class="ico-arrow"></span>',class:"newmessage__send-btn",id:"submit-newmessage",link:"",type:"submit",events:{click:e=>{e==null||e.preventDefault(),this.sendMessage(e)}}}),addUserModal:new le({id:"addUserModal",title:"Добавить пользователя",content:[new D({label:"Логин пользователя",id:"add-user",name:"add-user",type:"text",placeholder:"",rule:"notempty",events:{input:async e=>{var s;const r=e.target.value;r!==""?await Ce.searchUser(r):this.emptyFound(),(s=document.getElementById("add-user"))==null||s.focus()}}}),new si({events:{click:e=>this.choosedUser(e)}})],cancel:new O({id:"cancel",class:"btn btn__cancel",type:"button",inner:"Отменить",events:{click:e=>{e==null||e.preventDefault(),this.closeModal("addUserModal")}}}),submit:new O({id:"submit",class:"btn btn__submit",type:"submit",inner:"Добавить",events:{click:async e=>{e==null||e.preventDefault(),this.addUserHandler()}}}),events:{submit:e=>{e==null||e.preventDefault(),this.addUserHandler()}}}),delUserModal:new le({id:"delUserModal",title:"Удалить пользователя",content:new $n({}),cancel:new O({id:"cancel",class:"btn btn__cancel",type:"button",inner:"Отменить",events:{click:e=>{e==null||e.preventDefault(),this.closeModal("delUserModal")}}}),submit:new O({id:"submit",class:"btn btn__submit",type:"submit",inner:"Удалить",events:{click:async e=>{e==null||e.preventDefault(),this.delUserHandler()}}}),events:{submit:e=>{e==null||e.preventDefault(),this.delUserHandler()}}}),delChatModal:new le({id:"delChatModal",title:"Удалить чат",content:new ii({inner:"Вы действительно хотите удалить данный чат?"}),cancel:new O({id:"cancel",class:"btn btn__cancel",type:"button",inner:"Отменить",events:{click:e=>{e==null||e.preventDefault(),this.closeModal("delChatModal")}}}),submit:new O({id:"submit",class:"btn btn__submit",type:"submit",inner:"Удалить",events:{click:async e=>{e==null||e.preventDefault(),this.delChatHandler()}}}),events:{submit:e=>{e==null||e.preventDefault(),this.delChatHandler()}}})}}async addUserHandler(){var s;const e=document.getElementById("add-user"),r=(s=e==null?void 0:e.dataset)==null?void 0:s.id;r&&(e.value="",await te.addUsers(this.props.currentChat,[parseInt(r,10)]).then(()=>te.getChatUsers(this.props.currentChat)).catch(o=>console.error("Ошибка добавления пользователя: ",o.reason))),this.closeModal("addUserModal")}async delUserHandler(){var r,s;const e=[];(s=(r=document.getElementById("delUserModal"))==null?void 0:r.querySelectorAll('input[type="checkbox"]'))==null||s.forEach(o=>{o.checked&&e.push(parseInt(o.value,10))}),e.length&&await te.deleteUsers(this.props.currentChat,e).then(()=>te.getChatUsers(this.props.currentChat)).catch(o=>console.error("Ошибка удаления пользователя(ей): ",o.reason)),this.closeModal("delUserModal")}delChatHandler(){q.deleteChat(this.props.currentChat).then(()=>{I.set("currentChat",null),q.getList()}).catch(e=>console.log("Ошибка удаления чата: ",e.reason)),this.closeModal("delChatModal")}emptyFound(){I.set("foundUsers",[]),document.querySelectorAll(".found-users").forEach(e=>{e.innerHTML=""})}choosedUser(e){var o,d,c,u,a,p;const r=(d=(o=e==null?void 0:e.target)==null?void 0:o.dataset)==null?void 0:d.id,s=(u=(c=e==null?void 0:e.target)==null?void 0:c.closest(".modal__content"))==null?void 0:u.querySelector("input");r&&s&&(s.dataset.id=r,(p=(a=e==null?void 0:e.target)==null?void 0:a.dataset)!=null&&p.login&&(s.value=e.target.dataset.login??""),this.emptyFound())}sendMessage(e){var o,d;e.preventDefault();let r=!0;const s={};(d=(o=document.getElementById("newmessage"))==null?void 0:o.querySelectorAll("input"))==null||d.forEach(c=>{if(!c.dataset.rule||c.dataset.rule===""||typeof z[c.dataset.rule]>"u"){s[c.name]=c.value;return}X(c.id)?s[c.name]=c.value:r=!1}),r&&Xt.postMessage(this.props.currentChat,s.message)}showModal(e){var r;(r=document.querySelector(".js-menu-parent.active"))==null||r.classList.remove("active"),this.children[e].show()}closeModal(e){this.emptyFound(),this.children[e].hide()}render(){return this.compile(ai,this.props)}}const li=F(t=>{var e;return{messages:{...t.messages||{}},currentChat:t.currentChat||void 0,chat:t.chats.find(r=>r.id===t.currentChat),userId:(e=t.user)==null?void 0:e.id,foundUsers:t.foundUsers??[]}}),ui=li(oi),ci=`<div class="search">
  <div class="search__inner js-input">
    <input type="text" class="input__text" name="search">
    <div class="search__label">
      <span class="search__icon"></span>
      <span class="search__text">Поиск</span>
    </div>
  </div>
</div>`;class hi extends M{render(){return setTimeout(()=>{const e=document.querySelector(".input__text");e&&(e.addEventListener("focus",this.setInputFocusHandler),e.addEventListener("blur",this.setInputBlurHandler))},100),this.compile(ci,{})}setInputFocusHandler(e){var s;const r=(s=e.target)==null?void 0:s.closest(".js-input");r&&r.classList.add("is--active")}setInputBlurHandler(e){var r,s;if(((r=e.target)==null?void 0:r.value)===""){const o=(s=e.target)==null?void 0:s.closest(".js-input");o&&o.classList.remove("is--active")}}}const pi=`<div class="chat__top">
  <div class="chat__auth">
    {{{ logout }}}
  </div>
  <div class="chat__add">
    {{{ add }}}
  </div>
  <div class="chat__profile">
    {{{ link }}}
  </div>
  <div class="chat__search">
    {{{ search }}}
  </div>
  {{{ modal }}}
</div>`;class di extends M{childrenInit(){this.children={logout:new O({id:"logout",class:"link__simple",link:A.Auth.url,inner:'<span class="ico-arrow-right"> </span><span>Выйти</span>',events:{click:()=>Z.logout().then(()=>U.go(A.Auth.url))}}),add:new O({id:"add",class:"link__simple",inner:"<span>Создать чат</span>",events:{click:e=>this.showModal(e)}}),link:new Q({class:"link__simple",link:A.Profile.url,inner:'<span>Профиль</span> <span class="ico-arrow-right"></span>'}),search:new hi,modal:new le({id:"add_chat",title:"Новый чат",content:new D({label:"Название чата",id:"new_chat",name:"title",type:"text",placeholder:"",rule:"notempty"}),cancel:new O({id:"cancel",class:"btn btn__cancel",inner:"Отменить",type:"button",events:{click:e=>this.closeModal(e)}}),submit:new O({id:"submit",class:"btn btn__submit",inner:"Создать",type:"submit",events:{click:e=>this.createChat(e)}}),events:{submit:e=>{console.log("Create"),this.createChat(e)}}})}}createChat(e){var r;if(e.preventDefault(),X("new_chat")){const s=(r=document.getElementById("new_chat"))==null?void 0:r.value;q.createChat(s).then(()=>q.getList()).catch(o=>console.log("Ошибка создания чата: ",o.reason)),this.closeModal(e)}}showModal(e){e.preventDefault(),document.getElementById("new_chat").value="",this.children.modal.show()}closeModal(e){e.preventDefault(),this.children.modal.hide()}render(){return this.compile(pi,{})}}const fi=t=>typeof t=="object"&&t!==null&&t.constructor===Object&&Object.prototype.toString.call(t)==="[object Object]",Nt=t=>fi(t)||Array.isArray(t);function er(t,e){const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const[o,d]of Object.entries(t)){const c=e[o];if(Nt(d)&&Nt(c)){if(er(d,c))continue;return!1}if(d!==c)return!1}return!0}const mi=`{{#if (checkIfEqual id '')}}<div class="chat-card__empty">Чаты отсутствуют</div>
{{else}}
<div class="chat-card js-open-chat{{#if selected}} is--active{{/if}}" data-id="{{id}}">
  <div class="chat-card__avatar">
  {{#if avatar}}
  <img src="https://ya-praktikum.tech/api/v2/resources{{avatar}}">
  {{/if}}
  </div>
  <div class="chat-card__textbox">
    <div class="chat-card__title">{{title}}</div>
    <div class="chat-card__message">{{{last_message.content}}}</div>
  </div>
  <div class="chat-card__infobox">
    <div class="chat-card__datetime">{{last_message.time}}</div>
    <div class="chat-card__counter">{{#if (checkIfNotEqual unread_count 0)}}
      <div class="chat-card__counter-circle">{{unread_count}}</div>
    {{/if}}</div>
  </div>
</div>
{{/if}}`;class gi extends M{constructor(e){super({...e})}render(){const e={};return Object.keys(this.props).forEach(r=>{e[r]=this.props[r]}),this.compile(mi,e)}}const vi=`<div class="chat-list__container">
  {{{ chats }}}
</div>`;class _i extends M{constructor(e){super({...e})}childrenInit(){const e=I.getState();this.children.chats=this.getChats(e)}componentDidUpdate(e,r){return er(e,r)?!1:(this.children.chats=this.getChats(r),!0)}getChats(e){return e.chats.map(s=>new gi({...s,events:{click:()=>{q.setChat(s.id),te.getChatUsers(s.id).catch(o=>console.error("Ошибка считывания пользователей чата, ",o.reason))}}}))}render(){return this.compile(vi,{})}}const yi=F(t=>({chats:[...t.chats||[]]})),bi=yi(_i),Si=`<div class="chat">
  <div class="chat-list">
    {{{ head }}}
    {{{ list }}}
  </div>
  {{{ body }}}
</div>`;class wi extends M{constructor(){super({})}init(){super.init(),Ee();try{q.getList()}catch(e){console.log("Ошибка : ",e)}}childrenInit(){const e=I.getState();this.children={head:new di,list:new bi(e),body:new ui(e)}}render(){return this.compile(Si,{})}}const ki=`<div class="profile">
  <div class="profile__backlink">
    {{{ backlink }}}
  </div>
  <div class="profile__container">
    <div class="profile__inner">
      <div class="profile__avatar">
        <div class="profile__avatar-img">
          <div class="profile__avatar-no"></div>
          {{{ avatar }}}
        </div>
        <div class="profile__name-title">{{display_name}}</div>
      </div>
      <div class="profile__body">
      {{#each profile}}
        <dl class="profile__row">
          <dt class="profile__row-label">{{label}}</dt>
          <dl class="profile__row-value">{{value}}</dl>
        </dl>
      {{/each}}
      </div>
      <div class="profile__buttons">
        {{{ links }}}
      </div>
    </div>
  </div>
</div>
`;class Ci extends M{constructor(e){super({...e})}init(){super.init(),Ee()}childrenInit(){this.children={},this.children.backlink=new Q({class:"btn__circle",link:A.Chatspage.url,inner:""}),this.children.avatar=new $t({}),this.children.links=[{link:A.ProfileEdit.url,class:"profile__link",inner:"Изменить данные"},{link:A.ProfilePassword.url,class:"profile__link",inner:"Изменить пароль"},{link:A.Chatspage.url,class:"profile__link c-red",inner:"К чатам"}].map(e=>new Q(e))}render(){const e={};return Object.entries(this.props).forEach(([r,s],o)=>{r!=="avatar"&&(e[r]={label:it[r],value:s})}),this.compile(ki,{profile:e,display_name:this.props.display_name})}}const Ei=F(t=>{var e,r,s,o,d,c,u;return{login:(e=t.user)==null?void 0:e.login,first_name:(r=t.user)==null?void 0:r.first_name,second_name:(s=t.user)==null?void 0:s.second_name,phone:(o=t.user)==null?void 0:o.phone,email:(d=t.user)==null?void 0:d.email,display_name:(c=t.user)==null?void 0:c.display_name,avatar:(u=t.user)==null?void 0:u.avatar}}),Pi=Ei(Ci),Li=`<form action="" id="formreg" class="login__box">
  <div class="login">
    <div class="login__title">Регистрация</div>
    <div class="login__form">
      {{{email}}}
      {{{login}}}
      {{{first_name}}}
      {{{second_name}}}
      {{{phone}}}
      {{{password}}}
      {{{password_check}}}
    </div>
    <div class="login__btn-box">
      {{{button}}}
      {{{link}}}
    </div>
  </div>
</form>`;class Mi extends M{constructor(){super({events:{submit:e=>this.submitAuth(e)}})}childrenInit(){this.children={email:new D({label:"Почта",id:"email",name:"email",type:"text",rule:"email"}),login:new D({label:"Логин",id:"login",name:"login",type:"text",rule:"login"}),first_name:new D({label:"Имя",id:"first_name",name:"first_name",type:"text",rule:"name"}),second_name:new D({label:"Фамилия",id:"second_name",name:"second_name",type:"text",rule:"name"}),phone:new D({label:"Телефон",id:"phone",name:"phone",type:"text",rule:"phone"}),password:new D({label:"Пароль",id:"password",name:"password",type:"password",rule:"password"}),password_check:new D({label:"Пароль (еще раз)",id:"password_check",name:"password_check",type:"password"}),button:new O({inner:"Зарегистрироваться",class:"btn",id:"submit-register",link:"/chatlist",type:"submit"}),link:new Q({class:"align_center",link:"/",inner:"Войти"})}}submitAuth(e){e.preventDefault();let r=!0;const s={};Object.values(this.children).forEach(o=>{var d;if(o.id==="password_check"){const c=document.getElementById("password"),u=document.getElementById(o.id);(c==null?void 0:c.value)!==(u==null?void 0:u.value)&&ft(u,"Пароли не совпадают")}else{if(!o.props.rule||o.props.rule===""||typeof z[o.props.rule]>"u")return;X(o.id)?s[o.props.name]=(d=document.getElementById(o.props.id))==null?void 0:d.value:r=!1}}),r&&(console.log("submitAuth",s),Z.register(s).then(()=>{q.getList(),U.go(A.Chatspage.url)}).catch(o=>{o.reason==="User already in system"?U.go(A.Chatspage.url):(alert("Ошибка авторизации!"),console.log(o))}))}componentDidMount(){Z.fetchUser().then(()=>U.go(A.Chatspage.url))}render(){return this.compile(Li,{})}}const xi={Auth:{url:"/",page:Pn},Register:{url:"/sign-up",page:Mi},Profile:{url:"/settings",page:Pi},ProfileEdit:{url:"/settings-edit",page:Fn},ProfilePassword:{url:"/settings-password",page:Gn},Chatspage:{url:"/messenger",page:wi}},A=xi;pt.registerHelper("checkIfEqual",(t,e)=>t===e);pt.registerHelper("checkIfNotEqual",(t,e)=>t!==e);const gt=new ce;gt.setRoot("#app");Object.values(A).forEach(t=>gt.use(t.url,t.page));document.addEventListener("DOMContentLoaded",()=>{gt.start()});
